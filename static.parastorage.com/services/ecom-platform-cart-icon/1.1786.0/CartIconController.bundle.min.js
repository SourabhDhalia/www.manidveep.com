! function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.CartIconController = e() : t.CartIconController = e()
}(self, (() => (() => {
    var t = {
            76: (t, e, n) => {
                var r = n(998).default,
                    o = n(921);
                t.exports = function(t) {
                    var e = o(t, "string");
                    return "symbol" == r(e) ? e : e + ""
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            86: (t, e, n) => {
                var r = n(766),
                    o = n(399);
                t.exports = function(t, e, n) {
                    var i = e && n || 0;
                    "string" == typeof t && (e = "binary" === t ? new Array(16) : null, t = null);
                    var a = (t = t || {}).random || (t.rng || r)();
                    if (a[6] = 15 & a[6] | 64, a[8] = 63 & a[8] | 128, e)
                        for (var s = 0; s < 16; ++s) e[i + s] = a[s];
                    return e || o(a)
                }
            },
            92: (t, e, n) => {
                "use strict";
                n.r(e), n.d(e, {
                    __assign: () => i,
                    __asyncDelegator: () => S,
                    __asyncGenerator: () => b,
                    __asyncValues: () => w,
                    __await: () => y,
                    __awaiter: () => c,
                    __classPrivateFieldGet: () => x,
                    __classPrivateFieldSet: () => O,
                    __createBinding: () => d,
                    __decorate: () => s,
                    __exportStar: () => f,
                    __extends: () => o,
                    __generator: () => p,
                    __importDefault: () => I,
                    __importStar: () => C,
                    __makeTemplateObject: () => P,
                    __metadata: () => u,
                    __param: () => l,
                    __read: () => h,
                    __rest: () => a,
                    __spread: () => v,
                    __spreadArrays: () => m,
                    __values: () => g
                });
                /*! *****************************************************************************
                Copyright (c) Microsoft Corporation.

                Permission to use, copy, modify, and/or distribute this software for any
                purpose with or without fee is hereby granted.

                THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
                REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
                AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
                INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
                LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
                OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
                PERFORMANCE OF THIS SOFTWARE.
                ***************************************************************************** */
                var r = function(t, e) {
                    return r = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    }, r(t, e)
                };

                function o(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
                }
                var i = function() {
                    return i = Object.assign || function(t) {
                        for (var e, n = 1, r = arguments.length; n < r; n++)
                            for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                        return t
                    }, i.apply(this, arguments)
                };

                function a(t, e) {
                    var n = {};
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                    if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                        var o = 0;
                        for (r = Object.getOwnPropertySymbols(t); o < r.length; o++) e.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (n[r[o]] = t[r[o]])
                    }
                    return n
                }

                function s(t, e, n, r) {
                    var o, i = arguments.length,
                        a = i < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;
                    if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, n, r);
                    else
                        for (var s = t.length - 1; s >= 0; s--)(o = t[s]) && (a = (i < 3 ? o(a) : i > 3 ? o(e, n, a) : o(e, n)) || a);
                    return i > 3 && a && Object.defineProperty(e, n, a), a
                }

                function l(t, e) {
                    return function(n, r) {
                        e(n, r, t)
                    }
                }

                function u(t, e) {
                    if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
                }

                function c(t, e, n, r) {
                    return new(n || (n = Promise))((function(o, i) {
                        function a(t) {
                            try {
                                l(r.next(t))
                            } catch (t) {
                                i(t)
                            }
                        }

                        function s(t) {
                            try {
                                l(r.throw(t))
                            } catch (t) {
                                i(t)
                            }
                        }

                        function l(t) {
                            var e;
                            t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                                t(e)
                            }))).then(a, s)
                        }
                        l((r = r.apply(t, e || [])).next())
                    }))
                }

                function p(t, e) {
                    var n, r, o, i, a = {
                        label: 0,
                        sent: function() {
                            if (1 & o[0]) throw o[1];
                            return o[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return i = {
                        next: s(0),
                        throw: s(1),
                        return: s(2)
                    }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                        return this
                    }), i;

                    function s(i) {
                        return function(s) {
                            return function(i) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; a;) try {
                                    if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                    switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                        case 0:
                                        case 1:
                                            o = i;
                                            break;
                                        case 4:
                                            return a.label++, {
                                                value: i[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++, r = i[1], i = [0];
                                            continue;
                                        case 7:
                                            i = a.ops.pop(), a.trys.pop();
                                            continue;
                                        default:
                                            if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                                a.label = i[1];
                                                break
                                            }
                                            if (6 === i[0] && a.label < o[1]) {
                                                a.label = o[1], o = i;
                                                break
                                            }
                                            if (o && a.label < o[2]) {
                                                a.label = o[2], a.ops.push(i);
                                                break
                                            }
                                            o[2] && a.ops.pop(), a.trys.pop();
                                            continue
                                    }
                                    i = e.call(t, a)
                                } catch (t) {
                                    i = [6, t], r = 0
                                } finally {
                                    n = o = 0
                                }
                                if (5 & i[0]) throw i[1];
                                return {
                                    value: i[0] ? i[1] : void 0,
                                    done: !0
                                }
                            }([i, s])
                        }
                    }
                }

                function d(t, e, n, r) {
                    void 0 === r && (r = n), t[r] = e[n]
                }

                function f(t, e) {
                    for (var n in t) "default" === n || e.hasOwnProperty(n) || (e[n] = t[n])
                }

                function g(t) {
                    var e = "function" == typeof Symbol && Symbol.iterator,
                        n = e && t[e],
                        r = 0;
                    if (n) return n.call(t);
                    if (t && "number" == typeof t.length) return {
                        next: function() {
                            return t && r >= t.length && (t = void 0), {
                                value: t && t[r++],
                                done: !t
                            }
                        }
                    };
                    throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
                }

                function h(t, e) {
                    var n = "function" == typeof Symbol && t[Symbol.iterator];
                    if (!n) return t;
                    var r, o, i = n.call(t),
                        a = [];
                    try {
                        for (;
                            (void 0 === e || e-- > 0) && !(r = i.next()).done;) a.push(r.value)
                    } catch (t) {
                        o = {
                            error: t
                        }
                    } finally {
                        try {
                            r && !r.done && (n = i.return) && n.call(i)
                        } finally {
                            if (o) throw o.error
                        }
                    }
                    return a
                }

                function v() {
                    for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(h(arguments[e]));
                    return t
                }

                function m() {
                    for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                    var r = Array(t),
                        o = 0;
                    for (e = 0; e < n; e++)
                        for (var i = arguments[e], a = 0, s = i.length; a < s; a++, o++) r[o] = i[a];
                    return r
                }

                function y(t) {
                    return this instanceof y ? (this.v = t, this) : new y(t)
                }

                function b(t, e, n) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var r, o = n.apply(t, e || []),
                        i = [];
                    return r = {}, a("next"), a("throw"), a("return"), r[Symbol.asyncIterator] = function() {
                        return this
                    }, r;

                    function a(t) {
                        o[t] && (r[t] = function(e) {
                            return new Promise((function(n, r) {
                                i.push([t, e, n, r]) > 1 || s(t, e)
                            }))
                        })
                    }

                    function s(t, e) {
                        try {
                            (n = o[t](e)).value instanceof y ? Promise.resolve(n.value.v).then(l, u) : c(i[0][2], n)
                        } catch (t) {
                            c(i[0][3], t)
                        }
                        var n
                    }

                    function l(t) {
                        s("next", t)
                    }

                    function u(t) {
                        s("throw", t)
                    }

                    function c(t, e) {
                        t(e), i.shift(), i.length && s(i[0][0], i[0][1])
                    }
                }

                function S(t) {
                    var e, n;
                    return e = {}, r("next"), r("throw", (function(t) {
                        throw t
                    })), r("return"), e[Symbol.iterator] = function() {
                        return this
                    }, e;

                    function r(r, o) {
                        e[r] = t[r] ? function(e) {
                            return (n = !n) ? {
                                value: y(t[r](e)),
                                done: "return" === r
                            } : o ? o(e) : e
                        } : o
                    }
                }

                function w(t) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var e, n = t[Symbol.asyncIterator];
                    return n ? n.call(t) : (t = g(t), e = {}, r("next"), r("throw"), r("return"), e[Symbol.asyncIterator] = function() {
                        return this
                    }, e);

                    function r(n) {
                        e[n] = t[n] && function(e) {
                            return new Promise((function(r, o) {
                                (function(t, e, n, r) {
                                    Promise.resolve(r).then((function(e) {
                                        t({
                                            value: e,
                                            done: n
                                        })
                                    }), e)
                                })(r, o, (e = t[n](e)).done, e.value)
                            }))
                        }
                    }
                }

                function P(t, e) {
                    return Object.defineProperty ? Object.defineProperty(t, "raw", {
                        value: e
                    }) : t.raw = e, t
                }

                function C(t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var n in t) Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                    return e.default = t, e
                }

                function I(t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }

                function x(t, e) {
                    if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance");
                    return e.get(t)
                }

                function O(t, e, n) {
                    if (!e.has(t)) throw new TypeError("attempted to set private field on non-instance");
                    return e.set(t, n), n
                }
            },
            182: t => {
                "use strict";
                t.exports = function(t) {
                    return encodeURIComponent(t).replace(/[!'()*]/g, (function(t) {
                        return "%" + t.charCodeAt(0).toString(16).toUpperCase()
                    }))
                }
            },
            273: (t, e) => {
                "use strict";
                Object.defineProperty(e, "__esModule", {
                    value: !0
                }), e.createSafeCall = e.addTimeout = void 0, e.addTimeout = function(t, e) {
                    var n, r, o = void 0 === e ? {} : e,
                        i = o.timeout,
                        a = void 0 === i ? 12e4 : i,
                        s = o.message,
                        l = void 0 === s ? "Timeout: Wix Js Sdk" : s;
                    try {
                        throw new Error(l)
                    } catch (t) {
                        n = t
                    }
                    var u = new Promise((function(t, e) {
                            r = setTimeout(e, a, n)
                        })),
                        c = function() {
                            return clearTimeout(r)
                        };
                    return t.then(c, c), Promise.race([t, u])
                }, e.createSafeCall = function(t) {
                    return function(e) {
                        return function() {
                            try {
                                return e.apply(this, arguments)
                            } catch (e) {
                                return t(e), null
                            }
                        }
                    }
                }
            },
            296: (t, e, n) => {
                "use strict";
                e.h = void 0;
                var r = n(92),
                    o = n(273);
                e.h = function(t) {
                    var e = function(t) {
                        n.g.console && "function" == typeof n.g.console.error && console.error(t)
                    };
                    if (!t) return e(new Error("Wix Sdk is missing")), null;
                    var i = o.createSafeCall((function(t) {
                            e(t)
                        })),
                        a = {
                            valid: !1,
                            config: {
                                setErrorLogger: function(t) {
                                    e = t
                                }
                            },
                            Activities: {
                                Type: t.Activities.Type,
                                Error: t.Activities.Error,
                                postActivity: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Activities.postActivity(e, n, r)
                                    })))
                                },
                                getActivities: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Activities.getActivities(n, r, e)
                                    })))
                                },
                                getActivityById: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Activities.getActivityById(e, n, r)
                                    })))
                                },
                                getUserSessionToken: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Activities.getUserSessionToken(e)
                                    })))
                                }
                            },
                            Analytics: {
                                PixelType: t.Analytics.PixelType,
                                PixelEventType: t.Analytics.PixelEventType,
                                registerCampaignPixel: t.Analytics.registerCampaignPixel,
                                reportCampaignEvent: t.Analytics.reportCampaignEvent
                            },
                            Billing: {
                                Cycle: t.Billing.Cycle,
                                openBillingPageForProduct: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Billing.openBillingPageForProduct(e, n, o)
                                    })))
                                },
                                getBillingPageForProduct: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Billing.getBillingPageForProduct(e, n, r, o)
                                    })))
                                },
                                getBillingPackages: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Billing.getBillingPackages(e, n, r)
                                    })))
                                },
                                getProducts: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Billing.getProducts(e, n, r)
                                    })))
                                }
                            },
                            Contacts: {
                                getContacts: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.getContacts(e, n, r)
                                    })))
                                },
                                getContactById: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.getContactById(e, n, r)
                                    })))
                                },
                                reconcileContact: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.reconcileContact(e, n, r)
                                    })))
                                }
                            },
                            Dashboard: {
                                PremiumIntent: t.Dashboard.PremiumIntent,
                                setHeight: t.Dashboard.setHeight,
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(o) {
                                        t.Dashboard.openMediaDialog(e, n, o, r)
                                    }))
                                },
                                openBillingPage: t.Dashboard.openBillingPage,
                                openModal: function(e, n, r) {
                                    return new Promise((function(o) {
                                        t.Dashboard.openModal(e, n, r, o)
                                    }))
                                },
                                closeWindow: t.Dashboard.closeWindow,
                                scrollTo: t.Dashboard.scrollTo,
                                getEditorUrl: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Dashboard.getEditorUrl(e)
                                    })))
                                },
                                pushState: t.Dashboard.pushState,
                                resizeWindow: t.Dashboard.resizeWindow,
                                revalidateSession: function() {
                                    return o.addTimeout(new Promise((function(e, n) {
                                        t.Dashboard.revalidateSession(e, n)
                                    })))
                                },
                                getProducts: function() {
                                    return o.addTimeout(new Promise((function(e, n) {
                                        t.Dashboard.getProducts(e, n)
                                    })))
                                },
                                getSiteViewUrl: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Dashboard.getSiteViewUrl(e, n)
                                    })))
                                },
                                appEngaged: t.Dashboard.appEngaged
                            },
                            Error: t.Error,
                            Events: t.Events,
                            Features: {
                                Types: t.Features.Types,
                                isSupported: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Features.isSupported(e, n)
                                    })))
                                }
                            },
                            Media: {
                                AudioType: t.Media.AudioType,
                                getImageUrl: t.Media.getImageUrl,
                                getResizedImageUrl: t.Media.getResizedImageUrl,
                                getAudioUrl: t.Media.getAudioUrl,
                                getDocumentUrl: t.Media.getDocumentUrl,
                                getSwfUrl: t.Media.getSwfUrl,
                                getPreviewSecureMusicUrl: t.Media.getPreviewSecureMusicUrl
                            },
                            PubSub: {
                                unsubscribe: t.PubSub.unsubscribe,
                                subscribe: t.PubSub.subscribe,
                                publish: t.PubSub.publish
                            },
                            Preview: {
                                openSettingsDialog: t.Preview.openSettingsDialog
                            },
                            Settings: {
                                MediaType: t.Settings.MediaType,
                                PremiumIntent: t.Settings.PremiumIntent,
                                getColorByreference: t.Settings.getColorByreference,
                                setBooleanParam: t.Settings.setBooleanParam,
                                setColorParam: t.Settings.setColorParam,
                                setNumberParam: t.Settings.setNumberParam,
                                getSiteColors: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteColors(e)
                                    })))
                                },
                                getStyleColorByKey: t.Settings.getStyleColorByKey,
                                getWindowPlacement: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Settings.getWindowPlacement(e, n)
                                    })))
                                },
                                getDashboardAppUrl: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getDashboardAppUrl(e)
                                    })))
                                },
                                getSiteInfo: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteInfo(e)
                                    })))
                                },
                                getSitePages: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Settings.getSitePages(e, n)
                                    })))
                                },
                                getSiteMap: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteMap(e)
                                    })))
                                },
                                getStyleParams: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getStyleParams(e)
                                    })))
                                },
                                openBillingPage: t.Settings.openBillingPage,
                                appEngaged: t.Settings.appEngaged,
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(o) {
                                        t.Settings.openMediaDialog(e, n, o, r)
                                    }))
                                },
                                openSiteMembersSettingsDialog: t.Settings.openSiteMembersSettingsDialog,
                                refreshApp: t.Settings.refreshApp,
                                refreshAppByCompIds: t.Settings.refreshAppByCompIds,
                                setWindowPlacement: t.Settings.setWindowPlacement,
                                triggerSettingsUpdatedEvent: t.Settings.triggerSettingsUpdatedEvent,
                                openModal: function(e, n, r, o, i) {
                                    return new Promise((function(a) {
                                        t.Settings.openModal(e, n, r, o, a, i)
                                    }))
                                },
                                closeWindow: t.Settings.closeWindow,
                                addComponent: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Settings.addComponent(e, n, r)
                                    })))
                                },
                                resizeComponent: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Settings.resizeComponent(e, n, r)
                                    })))
                                },
                                setExternalId: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Settings.setExternalId(e, n, r)
                                    })))
                                },
                                revalidateSession: function() {
                                    return o.addTimeout(new Promise((function(e, n) {
                                        t.Settings.revalidateSession(e, n)
                                    })))
                                },
                                getCurrentPageAnchors: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.getCurrentPageAnchors(e)
                                    })))
                                },
                                setFullWidth: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Settings.setFullWidth(e, n, r, o)
                                    })))
                                },
                                isFullWidth: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Settings.isFullWidth(e)
                                    })))
                                },
                                openReviewInfo: t.Settings.openReviewInfo,
                                getStateUrl: function(e, n) {
                                    return o.addTimeout(new Promise((function(r) {
                                        t.Settings.getStateUrl(e, n, r)
                                    })))
                                },
                                isComponentInstalled: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Settings.isComponentInstalled(e, n)
                                    })))
                                },
                                openLinkPanel: function(e, n) {
                                    return new Promise((function(r) {
                                        t.Settings.openLinkPanel(e, r, n)
                                    }))
                                }
                            },
                            Styles: {
                                getStyleParams: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getStyleParams(e)
                                    })))
                                },
                                setStyleParams: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Styles.setStyleParams(e, n, r)
                                    })))
                                },
                                setFontParam: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Styles.setFontParam(e, n, r, o)
                                    })))
                                },
                                getEditorFonts: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getEditorFonts(e)
                                    })))
                                },
                                getSiteTextPresets: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getSiteTextPresets(e)
                                    })))
                                },
                                getFontsSpriteUrl: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getFontsSpriteUrl(e)
                                    })))
                                },
                                getStyleFontByKey: t.Styles.getStyleFontByKey,
                                getStyleFontByReference: t.Styles.getStyleFontByReference,
                                getSiteColors: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getSiteColors(e)
                                    })))
                                },
                                getStyleColorByKey: t.Styles.getStyleColorByKey,
                                getColorByreference: t.Styles.getColorByreference,
                                setColorParam: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Styles.setColorParam(e, n, r, o)
                                    })))
                                },
                                setNumberParam: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Styles.setNumberParam(e, n, r, o)
                                    })))
                                },
                                setBooleanParam: function(e, n) {
                                    return o.addTimeout(new Promise((function(r, o) {
                                        t.Styles.setBooleanParam(e, n, r, o)
                                    })))
                                },
                                openColorPicker: function(e) {
                                    return new Promise((function(n) {
                                        t.Styles.openColorPicker(e, n)
                                    }))
                                },
                                openFontPicker: function(e) {
                                    return new Promise((function(n) {
                                        t.Styles.openFontPicker(e, n)
                                    }))
                                },
                                setUILIBParamValue: t.Styles.setUILIBParamValue,
                                getStyleId: function() {
                                    return o.addTimeout(new Promise((function(e) {
                                        t.Styles.getStyleId(e)
                                    })))
                                },
                                getStyleParamsByStyleId: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.Styles.getStyleParamsByStyleId(e, n, r)
                                    })))
                                }
                            },
                            Theme: t.Theme,
                            Utils: {
                                getViewMode: i(t.Utils.getViewMode),
                                toWixDate: i(t.Utils.toWixDate),
                                getCompId: i(t.Utils.getCompId),
                                getOrigCompId: i(t.Utils.getOrigCompId),
                                getWidth: i(t.Utils.getWidth),
                                getLocale: i(t.Utils.getLocale),
                                getCacheKiller: i(t.Utils.getCacheKiller),
                                getTarget: i(t.Utils.getTarget),
                                getSectionUrl: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.Utils.getSectionUrl(e, n)
                                    })))
                                },
                                getInstanceId: i(t.Utils.getInstanceId),
                                getSignDate: i(t.Utils.getSignDate),
                                getUid: i(t.Utils.getUid),
                                getPermissions: i(t.Utils.getPermissions),
                                getIpAndPort: i(t.Utils.getIpAndPort),
                                getDemoMode: i(t.Utils.getDemoMode),
                                getDeviceType: i(t.Utils.getDeviceType),
                                getInstanceValue: i(t.Utils.getInstanceValue),
                                navigateToSection: i(t.Utils.navigateToSection),
                                getSiteOwnerId: i(t.Utils.getSiteOwnerId),
                                Media: {
                                    AudioType: t.Utils.Media.AudioType,
                                    getImageUrl: t.Utils.Media.getImageUrl,
                                    getResizedImageUrl: t.Utils.Media.getResizedImageUrl,
                                    getAudioUrl: t.Utils.Media.getAudioUrl,
                                    getDocumentUrl: t.Utils.Media.getDocumentUrl,
                                    getSwfUrl: t.Utils.Media.getSwfUrl,
                                    getPreviewSecureMusicUrl: t.Utils.Media.getPreviewSecureMusicUrl
                                }
                            },
                            Data: {
                                SCOPE: t.Data.SCOPE,
                                Public: {
                                    set: function(e, n, r) {
                                        return o.addTimeout(new Promise((function(o, i) {
                                            t.Data.Public.set(e, n, r, o, i)
                                        })))
                                    },
                                    get: function(e, n, r) {
                                        return o.addTimeout(new Promise((function(n, o) {
                                            t.Data.Public.get(e, r, n, o)
                                        })))
                                    },
                                    remove: function(e, n, r) {
                                        return o.addTimeout(new Promise((function(n, o) {
                                            t.Data.Public.remove(e, r, n, o)
                                        })))
                                    }
                                }
                            },
                            Performance: {
                                applicationLoaded: t.Performance.applicationLoaded,
                                applicationLoadingStep: t.Performance.applicationLoadingStep
                            },
                            WindowOrigin: t.WindowOrigin,
                            WindowPlacement: t.WindowPlacement,
                            openModal: function(e, n, r, o) {
                                return new Promise((function(i) {
                                    t.openModal(e, n, r, i, o)
                                }))
                            },
                            openPopup: function(e, n, r, o, i) {
                                return new Promise((function(a) {
                                    t.openPopup(e, n, r, o, a, i)
                                }))
                            },
                            setHeight: t.setHeight,
                            closeWindow: t.closeWindow,
                            scrollTo: t.scrollTo,
                            scrollBy: t.scrollBy,
                            getSiteInfo: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getSiteInfo(e)
                                })))
                            },
                            getSitePages: function(e) {
                                return o.addTimeout(new Promise((function(n) {
                                    t.getSitePages(e, n)
                                })))
                            },
                            getSiteMap: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getSiteMap(e)
                                })))
                            },
                            getBoundingRectAndOffsets: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getBoundingRectAndOffsets(e)
                                })))
                            },
                            removeEventListener: t.removeEventListener,
                            addEventListener: t.addEventListener,
                            resizeWindow: t.resizeWindow,
                            requestLogin: function(e, n) {
                                return new Promise((function(r) {
                                    t.requestLogin(e, r, n)
                                }))
                            },
                            logOutCurrentMember: function(e) {
                                return o.addTimeout(new Promise((function(n, r) {
                                    t.logOutCurrentMember(e, r)
                                })))
                            },
                            currentMember: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.currentMember(e)
                                })))
                            },
                            navigateTo: function(e) {
                                return o.addTimeout(new Promise((function(n, r) {
                                    t.navigateTo(e, r)
                                })))
                            },
                            navigateToPage: function(e, n) {
                                return o.addTimeout(new Promise((function(r, o) {
                                    t.navigateToPage(e, n, o)
                                })))
                            },
                            getCurrentPageId: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getCurrentPageId(e)
                                })))
                            },
                            pushState: t.pushState,
                            reportHeightChange: t.reportHeightChange,
                            getStyleParams: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getStyleParams(e)
                                })))
                            },
                            getExternalId: function() {
                                return o.addTimeout(new Promise((function(e, n) {
                                    t.getExternalId(e, n)
                                })))
                            },
                            navigateToComponent: function(e, n) {
                                return o.addTimeout(new Promise((function(r, o) {
                                    t.navigateToComponent(e, n, o)
                                })))
                            },
                            resizeComponent: function(e) {
                                return o.addTimeout(new Promise((function(n, r) {
                                    t.resizeComponent(e, n, r)
                                })))
                            },
                            revalidateSession: function() {
                                return o.addTimeout(new Promise((function(e, n) {
                                    t.revalidateSession(e, n)
                                })))
                            },
                            getCurrentPageAnchors: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getCurrentPageAnchors(e)
                                })))
                            },
                            navigateToAnchor: function(e) {
                                return o.addTimeout(new Promise((function(n, r) {
                                    t.navigateToAnchor(e, r)
                                })))
                            },
                            getComponentInfo: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getComponentInfo(e)
                                })))
                            },
                            replaceSectionState: t.replaceSectionState,
                            setPageMetadata: t.setPageMetadata,
                            getStateUrl: function(e, n) {
                                return o.addTimeout(new Promise((function(r) {
                                    t.getStateUrl(e, n, r)
                                })))
                            },
                            getAdsOnPage: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.getAdsOnPage(e)
                                })))
                            }
                        };
                    return t.SuperApps ? r.__assign(r.__assign({}, a), {
                        SuperApps: {
                            Settings: {
                                MediaType: t.SuperApps.Settings.MediaType,
                                openBillingPage: t.SuperApps.Settings.openBillingPage,
                                getInstalledInstance: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Settings.getInstalledInstance(e, n, r)
                                    })))
                                },
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(o) {
                                        t.SuperApps.Settings.openMediaDialog(e, n, o, r)
                                    }))
                                },
                                openModal: function(e, n, r, o, i, a) {
                                    return new Promise((function(s) {
                                        t.SuperApps.Settings.openModal(e, n, r, o, s, i, a)
                                    }))
                                },
                                setHelpArticle: t.SuperApps.Settings.setHelpArticle
                            },
                            Dashboard: {
                                showHeader: t.SuperApps.Dashboard.showHeader,
                                hideHeader: t.SuperApps.Dashboard.hideHeader,
                                setHelpArticle: t.SuperApps.Dashboard.setHelpArticle,
                                getProducts: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Dashboard.getProducts(e, n, r)
                                    })))
                                },
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(o) {
                                        t.SuperApps.Dashboard.openMediaDialog(e, n, o, r)
                                    }))
                                }
                            },
                            getInstalledInstance: function(e) {
                                return o.addTimeout(new Promise((function(n, r) {
                                    t.SuperApps.getInstalledInstance(e, n, r)
                                })))
                            },
                            OnBoarding: {
                                Settings: {
                                    getStyleByCompId: function(e) {
                                        return o.addTimeout(new Promise((function(n) {
                                            t.SuperApps.OnBoarding.Settings.getStyleByCompId(e, n)
                                        })))
                                    }
                                }
                            },
                            Billing: {
                                getProducts: function(e) {
                                    return o.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Billing.getProducts(e, n, r)
                                    })))
                                }
                            },
                            getCtToken: function() {
                                return o.addTimeout(new Promise((function(e) {
                                    t.SuperApps.getCtToken(e)
                                })))
                            }
                        },
                        getInstalledInstance: function(e) {
                            return o.addTimeout(new Promise((function(n, r) {
                                t.getInstalledInstance(e, n, r)
                            })))
                        },
                        OnBoarding: {
                            Settings: {
                                getStyleByCompId: function(e) {
                                    return o.addTimeout(new Promise((function(n) {
                                        t.OnBoarding.Settings.getStyleByCompId(e, n)
                                    })))
                                }
                            }
                        },
                        getCtToken: function() {
                            return o.addTimeout(new Promise((function(e) {
                                t.getCtToken(e)
                            })))
                        }
                    }) : a
                }
            },
            334: t => {
                "use strict";
                /*
                object-assign
                (c) Sindre Sorhus
                @license MIT
                */
                var e = Object.getOwnPropertySymbols,
                    n = Object.prototype.hasOwnProperty,
                    r = Object.prototype.propertyIsEnumerable;
                t.exports = function() {
                    try {
                        if (!Object.assign) return !1;
                        var t = new String("abc");
                        if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
                        for (var e = {}, n = 0; n < 10; n++) e["_" + String.fromCharCode(n)] = n;
                        if ("0123456789" !== Object.getOwnPropertyNames(e).map((function(t) {
                                return e[t]
                            })).join("")) return !1;
                        var r = {};
                        return "abcdefghijklmnopqrst".split("").forEach((function(t) {
                            r[t] = t
                        })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
                    } catch (t) {
                        return !1
                    }
                }() ? Object.assign : function(t, o) {
                    for (var i, a, s = function(t) {
                            if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined");
                            return Object(t)
                        }(t), l = 1; l < arguments.length; l++) {
                        for (var u in i = Object(arguments[l])) n.call(i, u) && (s[u] = i[u]);
                        if (e) {
                            a = e(i);
                            for (var c = 0; c < a.length; c++) r.call(i, a[c]) && (s[a[c]] = i[a[c]])
                        }
                    }
                    return s
                }
            },
            399: t => {
                for (var e = [], n = 0; n < 256; ++n) e[n] = (n + 256).toString(16).substr(1);
                t.exports = function(t, n) {
                    var r = n || 0,
                        o = e;
                    return [o[t[r++]], o[t[r++]], o[t[r++]], o[t[r++]], "-", o[t[r++]], o[t[r++]], "-", o[t[r++]], o[t[r++]], "-", o[t[r++]], o[t[r++]], "-", o[t[r++]], o[t[r++]], o[t[r++]], o[t[r++]], o[t[r++]], o[t[r++]]].join("")
                }
            },
            503: (t, e) => {
                "use strict";
                e.H = void 0,
                    function(t) {
                        t.APP = "APP", t.COMPONENT = "COMPONENT"
                    }(e.H || (e.H = {}))
            },
            766: t => {
                var e = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
                if (e) {
                    var n = new Uint8Array(16);
                    t.exports = function() {
                        return e(n), n
                    }
                } else {
                    var r = new Array(16);
                    t.exports = function() {
                        for (var t, e = 0; e < 16; e++) 3 & e || (t = 4294967296 * Math.random()), r[e] = t >>> ((3 & e) << 3) & 255;
                        return r
                    }
                }
            },
            921: (t, e, n) => {
                var r = n(998).default;
                t.exports = function(t, e) {
                    if ("object" != r(t) || !t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 !== n) {
                        var o = n.call(t, e || "default");
                        if ("object" != r(o)) return o;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }
                    return ("string" === e ? String : Number)(t)
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            929: (t, e, n) => {
                var r = n(76);
                t.exports = function(t, e, n) {
                    return (e = r(e)) in t ? Object.defineProperty(t, e, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : t[e] = n, t
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            956: t => {
                "use strict";
                var e = "%[a-f0-9]{2}",
                    n = new RegExp("(" + e + ")|([^%]+?)", "gi"),
                    r = new RegExp("(" + e + ")+", "gi");

                function o(t, e) {
                    try {
                        return [decodeURIComponent(t.join(""))]
                    } catch (t) {}
                    if (1 === t.length) return t;
                    e = e || 1;
                    var n = t.slice(0, e),
                        r = t.slice(e);
                    return Array.prototype.concat.call([], o(n), o(r))
                }

                function i(t) {
                    try {
                        return decodeURIComponent(t)
                    } catch (i) {
                        for (var e = t.match(n) || [], r = 1; r < e.length; r++) e = (t = o(e, r).join("")).match(n) || [];
                        return t
                    }
                }
                t.exports = function(t) {
                    if ("string" != typeof t) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof t + "`");
                    try {
                        return t = t.replace(/\+/g, " "), decodeURIComponent(t)
                    } catch (e) {
                        return function(t) {
                            for (var e = {
                                    "%FE%FF": "\ufffd\ufffd",
                                    "%FF%FE": "\ufffd\ufffd"
                                }, n = r.exec(t); n;) {
                                try {
                                    e[n[0]] = decodeURIComponent(n[0])
                                } catch (t) {
                                    var o = i(n[0]);
                                    o !== n[0] && (e[n[0]] = o)
                                }
                                n = r.exec(t)
                            }
                            e["%C2"] = "\ufffd";
                            for (var a = Object.keys(e), s = 0; s < a.length; s++) {
                                var l = a[s];
                                t = t.replace(new RegExp(l, "g"), e[l])
                            }
                            return t
                        }(t)
                    }
                }
            },
            985: (t, e, n) => {
                "use strict";
                var r = n(182),
                    o = n(334),
                    i = n(956);

                function a(t, e) {
                    return e.encode ? e.strict ? r(t) : encodeURIComponent(t) : t
                }

                function s(t) {
                    return Array.isArray(t) ? t.sort() : "object" == typeof t ? s(Object.keys(t)).sort((function(t, e) {
                        return Number(t) - Number(e)
                    })).map((function(e) {
                        return t[e]
                    })) : t
                }

                function l(t) {
                    var e = t.indexOf("?");
                    return -1 === e ? "" : t.slice(e + 1)
                }

                function u(t, e) {
                    var n = function(t) {
                            var e;
                            switch (t.arrayFormat) {
                                case "index":
                                    return function(t, n, r) {
                                        e = /\[(\d*)\]$/.exec(t), t = t.replace(/\[\d*\]$/, ""), e ? (void 0 === r[t] && (r[t] = {}), r[t][e[1]] = n) : r[t] = n
                                    };
                                case "bracket":
                                    return function(t, n, r) {
                                        e = /(\[\])$/.exec(t), t = t.replace(/\[\]$/, ""), e ? void 0 !== r[t] ? r[t] = [].concat(r[t], n) : r[t] = [n] : r[t] = n
                                    };
                                default:
                                    return function(t, e, n) {
                                        void 0 !== n[t] ? n[t] = [].concat(n[t], e) : n[t] = e
                                    }
                            }
                        }(e = o({
                            arrayFormat: "none"
                        }, e)),
                        r = Object.create(null);
                    return "string" != typeof t ? r : (t = t.trim().replace(/^[?#&]/, "")) ? (t.split("&").forEach((function(t) {
                        var e = t.replace(/\+/g, " ").split("="),
                            o = e.shift(),
                            a = e.length > 0 ? e.join("=") : void 0;
                        a = void 0 === a ? null : i(a), n(i(o), a, r)
                    })), Object.keys(r).sort().reduce((function(t, e) {
                        var n = r[e];
                        return Boolean(n) && "object" == typeof n && !Array.isArray(n) ? t[e] = s(n) : t[e] = n, t
                    }), Object.create(null))) : r
                }
                e.qg = u
            },
            998: t => {
                function e(n) {
                    return t.exports = e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                        return typeof t
                    } : function(t) {
                        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                    }, t.exports.__esModule = !0, t.exports.default = t.exports, e(n)
                }
                t.exports = e, t.exports.__esModule = !0, t.exports.default = t.exports
            }
        },
        e = {};

    function n(r) {
        var o = e[r];
        if (void 0 !== o) return o.exports;
        var i = e[r] = {
            exports: {}
        };
        return t[r](i, i.exports, n), i.exports
    }
    n.n = t => {
        var e = t && t.__esModule ? () => t.default : () => t;
        return n.d(e, {
            a: e
        }), e
    }, n.d = (t, e) => {
        for (var r in e) n.o(e, r) && !n.o(t, r) && Object.defineProperty(t, r, {
            enumerable: !0,
            get: e[r]
        })
    }, n.g = function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
            return this || new Function("return this")()
        } catch (t) {
            if ("object" == typeof window) return window
        }
    }(), n.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e), n.r = t => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, n.p = "https://static.parastorage.com/services/ecom-platform-cart-icon/4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696/";
    var r = {};
    return (() => {
        "use strict";
        n.r(r), n.d(r, {
            controller: () => Fn,
            default: () => Bn,
            descriptor: () => jn,
            wrap: () => Un
        });
        var t = n(929),
            e = n.n(t),
            o = function(t, e) {
                return o = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                }, o(t, e)
            };

        function i(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");

            function n() {
                this.constructor = t
            }
            o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
        }
        var a = function() {
            return a = Object.assign || function(t) {
                for (var e, n = 1, r = arguments.length; n < r; n++)
                    for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                return t
            }, a.apply(this, arguments)
        };

        function s(t, e) {
            var n = {};
            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
            if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                var o = 0;
                for (r = Object.getOwnPropertySymbols(t); o < r.length; o++) e.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (n[r[o]] = t[r[o]])
            }
            return n
        }

        function l(t, e, n, r) {
            return new(n || (n = Promise))((function(o, i) {
                function a(t) {
                    try {
                        l(r.next(t))
                    } catch (t) {
                        i(t)
                    }
                }

                function s(t) {
                    try {
                        l(r.throw(t))
                    } catch (t) {
                        i(t)
                    }
                }

                function l(t) {
                    var e;
                    t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                        t(e)
                    }))).then(a, s)
                }
                l((r = r.apply(t, e || [])).next())
            }))
        }

        function u(t, e) {
            var n, r, o, i = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                },
                a = Object.create(("function" == typeof Iterator ? Iterator : Object).prototype);
            return a.next = s(0), a.throw = s(1), a.return = s(2), "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                return this
            }), a;

            function s(s) {
                return function(l) {
                    return function(s) {
                        if (n) throw new TypeError("Generator is already executing.");
                        for (; a && (a = 0, s[0] && (i = 0)), i;) try {
                            if (n = 1, r && (o = 2 & s[0] ? r.return : s[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, s[1])).done) return o;
                            switch (r = 0, o && (s = [2 & s[0], o.value]), s[0]) {
                                case 0:
                                case 1:
                                    o = s;
                                    break;
                                case 4:
                                    return i.label++, {
                                        value: s[1],
                                        done: !1
                                    };
                                case 5:
                                    i.label++, r = s[1], s = [0];
                                    continue;
                                case 7:
                                    s = i.ops.pop(), i.trys.pop();
                                    continue;
                                default:
                                    if (!(o = i.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== s[0] && 2 !== s[0])) {
                                        i = 0;
                                        continue
                                    }
                                    if (3 === s[0] && (!o || s[1] > o[0] && s[1] < o[3])) {
                                        i.label = s[1];
                                        break
                                    }
                                    if (6 === s[0] && i.label < o[1]) {
                                        i.label = o[1], o = s;
                                        break
                                    }
                                    if (o && i.label < o[2]) {
                                        i.label = o[2], i.ops.push(s);
                                        break
                                    }
                                    o[2] && i.ops.pop(), i.trys.pop();
                                    continue
                            }
                            s = e.call(t, i)
                        } catch (t) {
                            s = [6, t], r = 0
                        } finally {
                            n = o = 0
                        }
                        if (5 & s[0]) throw s[1];
                        return {
                            value: s[0] ? s[1] : void 0,
                            done: !0
                        }
                    }([s, l])
                }
            }
        }
        Object.create;

        function c(t) {
            var e = "function" == typeof Symbol && Symbol.iterator,
                n = e && t[e],
                r = 0;
            if (n) return n.call(t);
            if (t && "number" == typeof t.length) return {
                next: function() {
                    return t && r >= t.length && (t = void 0), {
                        value: t && t[r++],
                        done: !t
                    }
                }
            };
            throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
        }

        function p(t, e) {
            var n = "function" == typeof Symbol && t[Symbol.iterator];
            if (!n) return t;
            var r, o, i = n.call(t),
                a = [];
            try {
                for (;
                    (void 0 === e || e-- > 0) && !(r = i.next()).done;) a.push(r.value)
            } catch (t) {
                o = {
                    error: t
                }
            } finally {
                try {
                    r && !r.done && (n = i.return) && n.call(i)
                } finally {
                    if (o) throw o.error
                }
            }
            return a
        }

        function d(t, e, n) {
            if (n || 2 === arguments.length)
                for (var r, o = 0, i = e.length; o < i; o++) !r && o in e || (r || (r = Array.prototype.slice.call(e, 0, o)), r[o] = e[o]);
            return t.concat(r || Array.prototype.slice.call(e))
        }
        Object.create;
        "function" == typeof SuppressedError && SuppressedError;
        var f = function() {
            function t(t) {
                var e = this;
                this.reportFedopsInteraction = function(t, n) {
                    return l(e, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.flowAPI.fedops.interactionStarted(t), [4, n()];
                                case 1:
                                    return e.sent(), this.flowAPI.fedops.interactionEnded(t), [2]
                            }
                        }))
                    }))
                }, this.flowAPI = t.flowAPI, this.platformAPIs = t.controllerConfig.platformAPIs, this.publicData = t.controllerConfig.config.publicData, this.setProps = t.controllerConfig.setProps, this.siteStore = t.appData.context.siteStore
            }
            return Object.defineProperty(t.prototype, "t", {
                get: function() {
                    return this.flowAPI.translations.t
                },
                enumerable: !1,
                configurable: !0
            }), t.prototype.getOptionsOverrides = function() {
                return {}
            }, t
        }();
        const g = "00000000-000000-000000-000000000000",
            h = "specs.stores.CartIconCssVarsCssOptimization",
            v = "specs.stores.FixCartIconOnEditor",
            m = "specs.ecom.CheckViewerCurrency",
            y = "specs.ecom.UpdateCartIconsSVGViewer",
            b = "specs.ecom.UseNewControllerFactoryInCartIcon",
            S = "specs.ecom.StopCallingGetClientConfigInCartIcon",
            w = "specs.ecom.PreloadOnCartIconHover";
        let P = function(t) {
            return t.ADD_TO_CART = "velo-add-to-cart", t.ADD_ITEMS_TO_CART = "velo-add-items-to-cart", t.CART_ICON_LOADED = "cart-icon-loaded", t
        }({});
        var C, I, x, O, E, A, T, k, L, D, R = "215238eb-22a5-4c36-9e7b-e7c08025e04e";
        ! function(t) {
            t.CART_ICON = "1380bbc4-1485-9d44-4616-92e36b1ead6b", t.PRODUCT_PAGE = "13a94f09-2766-3c40-4a32-8edb5acdd8bc", t.PRODUCT_WIDGET = "13ec3e79-e668-cc0c-2d48-e99d53a213dd", t.GALLERY_PAGE = "1380bba0-253e-a800-a235-88821cf3f8a4", t.CATEGORY_PAGE = "bda15dc1-816d-4ff3-8dcb-1172d5343cce", t.GRID_GALLERY = "13afb094-84f9-739f-44fd-78d036adb028", t.SLIDER_GALLERY = "139a41fd-0b1d-975f-6f67-e8cbdf8ccc82", t.SEARCH_RESULTS_GALLERY = "abcd87fe-c51f-4538-848d-2902a2f50d2d", t.SEARCH_MODAL_GALLERY = "244576c9-d856-49b9-af14-216071924e3b", t.THANK_YOU_PAGE = "1380bbb4-8df0-fd38-a235-88821cf3f8a4", t.ADD_TO_CART = "14666402-0bc7-b763-e875-e99840d131bd", t.WISHLIST_PAGE = "a63a5215-8aa6-42af-96b1-583bfd74cff5", t.CART = "1380bbab-4da3-36b0-efb4-2e0599971d14", t.SIDE_CART = "49dbb2d9-d9e5-4605-a147-e926605bf164", t.CHECKOUT = "14fd5970-8072-c276-1246-058b79e70c1a", t.MY_ORDERS = "14e121c8-00a3-f7cc-6156-2c82a2ba8fcb", t.ECOM_PLATFORM_CHECKOUT = "14fd5970-8072-c276-1246-058b79e70c1a", t.MY_ADDRESSES = "151290e1-62a2-0775-6fbc-02182fad5dec", t.PAYMENT_REQUEST = "4425f8e8-51fb-457b-9123-fdb7b1cef94a"
        }(C || (C = {})),
        function(t) {
            t.CART_COMMANDS_URL = "/_api/wix-ecommerce-renderer-web/store-front/cart/{commandName}", t.NODE_GRAPHQL_URL = "_api/wixstores-graphql-server/graphql", t.READ_WRITE_GRAPHQL_URL = "_api/wix-ecommerce-graphql-web/api", t.STOREFRONT_GRAPHQL_URL = "_api/wix-ecommerce-storefront-web/api", t.WISHLIST_BASE_URL = "/_api/wishlist-server"
        }(I || (I = {})),
        function(t) {
            t[t.TINY_CART = 0] = "TINY_CART", t[t.MINI_CART = 1] = "MINI_CART", t[t.CART = 2] = "CART", t[t.NONE = 3] = "NONE"
        }(x || (x = {})),
        function(t) {
            t.ABOVE_AND_BELOW_CART = "0", t.ONLY_BELOW_CART = "1"
        }(O || (O = {})),
        function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.SUCCESSFUL = 1] = "SUCCESSFUL", t[t.FAILED = 2] = "FAILED", t[t.IN_PROGRESS = 3] = "IN_PROGRESS"
        }(E || (E = {})),
        function(t) {
            t.SIDE_CART = "ecom_side_cart", t.CART = "shopping_cart", t.CHECKOUT = "checkout", t.PAYMENT_REQUEST = "Payment Request Page", t.GALLERY = "product_gallery", t.CATEGORY = "Category Page", t.THANKYOU = "thank_you_page", t.PRODUCT = "product_page", t.PRODUCT_PAGE_VARIANT = "product_page_variance", t.CATEGORY_PAGE_VARIANT = "Category Page_variance", t.ORDER_HISTORY = "order_history", t.WISHLIST = "wishlist"
        }(A || (A = {})),
        function(t) {
            t.GET_CONFIG = "getConfig", t.MULTI_LANG = "multiLang", t.MINICART_OPEN = "miniCartOpen"
        }(T || (T = {})),
        function(t) {
            t.RELATED_PRODUCTS = "relatedProductIds"
        }(k || (k = {})),
        function(t) {
            t.AddToCart = "add to cart", t.BuyNow = "buy now", t.Subscribe = "subscribe", t.PreOrder = "pre order", t.PreOrderNow = "pre order now"
        }(L || (L = {})),
        function(t) {
            t.USE_LIGHTBOXES = "specs.stores.UseLightboxes", t.USE_LATEST_SUBDIVISIONS = "specs.stores.UseLatestSubdivisionsClient", t.FAKE_SPEC_FORCE_BUILD = "fake"
        }(D || (D = {}));
        var M, N, U, j, F, B;
        ! function(t) {
            t.PRODUCT_PAGE = "wix.stores.sub_pages.product"
        }(M || (M = {})),
        function(t) {
            t.Undefined = "UNDEFINED", t.Dispute = "DISPUTE", t.CompletedFundsHeld = "COMPLETED_FUNDS_HELD", t.Initialization = "INITIALIZATION", t.Initialized = "INITIALIZED", t.Pending = "PENDING", t.InProcess = "IN_PROCESS", t.PartialRefund = "PARTIAL_REFUND", t.Approved = "APPROVED", t.PendingMerchant = "PENDING_MERCHANT", t.PendingBuyer = "PENDING_BUYER", t.ChargeBack = "CHARGE_BACK", t.Declined = "DECLINED", t.Expired = "EXPIRED", t.Failed = "FAILED", t.BuyerCanceled = "BUYER_CANCELED", t.TpaCanceled = "TPA_CANCELED", t.Void = "VOID", t.Timeout = "TIMEOUT", t.Refund = "REFUND", t.Offline = "OFFLINE"
        }(N || (N = {})),
        function(t) {
            t.CATEGORY = "category", t.PRODUCT_PAGE = "product-page"
        }(U || (U = {})),
        function(t) {
            t.CheckoutSumary = "summary-checkout-slot", t.CheckoutAboveSummary = "above-summary-checkout-slot", t.CheckoutBelowSummary = "below-summary-checkout-slot", t.ProductPageDetails = "product-page-details-slot-1", t.ProductPageBottomSlot = "product-page-bottom-slot", t.ProductGalleryDetails = "product-gallery-details-slot-1", t.ProductPageTop = "product-page-top", t.ProductPageAdditionalButtons = "product-page-additional-buttons", t.ProductPageDetails1 = "product-page-details-1", t.ProductPageDetails2 = "product-page-details-2", t.ProductPageDetails3 = "product-page-details-3", t.ProductPageDetails4 = "product-page-details-4", t.ProductPageDetails5 = "product-page-details-5", t.ProductPageDetails6 = "product-page-details-6", t.ProductPageDetails7 = "product-page-details-7", t.ProductPageDetails8 = "product-page-details-8", t.ProductPageDetails9 = "product-page-details-9", t.ProductPageMedia1 = "product-page-media-1", t.ProductPageBottom = "product-page-bottom", t.GalleryProductsTop = "gallery-products-top", t.GalleryProductsBottom = "gallery-products-bottom", t.GalleryFiltersTop = "gallery-filters-top", t.GalleryFiltersBottom = "gallery-filters-bottom", t.GalleryItemAdditionalButtons = "gallery-item-additional-buttons", t.CategoryPageListTop = "category-page-list-top", t.CategoryPageHeroTop = "category-page-hero-top", t.CategoryPageHeroBottom = "category-page-hero-bottom", t.SideCartHeader = "side-cart:header", t.SideCartAfterItems = "side-cart:line-items:after", t.SideCartSummaryTop = "side-cart:summary:top", t.SideCartCTATop = "side-cart:cta:top", t.SideCartCTABottom = "side-cart:cta:bottom"
        }(j || (j = {})),
        function(t) {
            t.ProductPage = "ProductPage", t.CategoryPage = "CategoryPage"
        }(F || (F = {})),
        function(t) {
            t.Products = "Products", t.Categories = "Categories"
        }(B || (B = {}));
        var W = n(503);
        const G = _;
        var H = n.n(G);

        function V(t) {
            return "".concat("multilingual", "_").concat(t)
        }
        var q = function() {
            function t(t) {
                this.pubSub = t, this.subscribers = {}
            }
            return t.prototype.subscribe = function(t, e, n) {
                void 0 === n && (n = !1);
                var r = this.pubSub.subscribe(t, e, n);
                return this.subscribers[t] || (this.subscribers[t] = []), this.subscribers[t].push(r), r
            }, t.prototype.publish = function(t, e, n) {
                void 0 === n && (n = !1), this.pubSub.publish(t, e, n)
            }, t.prototype.unsubscribe = function(t, e) {
                this.subscribers[t] && (this.subscribers[t] = this.subscribers[t].filter((function(t) {
                    return t !== e
                })), this.pubSub.unsubscribe(t, e))
            }, t.prototype.unsubscribeAll = function() {
                var t = this;
                Object.keys(this.subscribers).forEach((function(e) {
                    t.subscribers[e].forEach((function(n) {
                        t.pubSub.unsubscribe(e, n)
                    }))
                }))
            }, t
        }();
        class K {
            constructor(t) {
                e()(this, "id", void 0), e()(this, "itemsCount", void 0), this.id = t.id, this.itemsCount = t.itemsCount
            }
            static fromSDK(t) {
                return new K({
                    id: (null == t ? void 0 : t._id) ? ? void 0,
                    itemsCount: null != t && t.lineItems ? (e = null == t ? void 0 : t.lineItems, e.reduce(((t, e) => {
                        const {
                            availability: n,
                            quantity: r
                        } = e, o = void 0 !== (null == n ? void 0 : n.quantityAvailable) ? Math.min(n.quantityAvailable ? ? 0, r ? ? 0) : r ? ? 0;
                        return t + (o || 0)
                    }), 0)) : void 0
                });
                var e
            }
        }
        const z = [3, 4, 5, 6, 7];
        class Y {
            constructor(t, n, r, o, i, a, s, l, u, c, p, d) {
                this.siteStore = t, this.viewerContext = n, this.config = r, this.setProps = o, this.reportError = i, this.translations = a, this.fedops = s, this.panoramaClient = l, this.currentCartService = u, this.biService = c, this.memoryStorage = p, e()(this, "appSettingsPromise", void 0), e()(this, "pubSubManager", void 0), e()(this, "appSettings", void 0), e()(this, "styleParams", void 0), e()(this, "cartModel", void 0), e()(this, "isMultilingualNonPrimary", (() => {
                    if (this.viewerContext.isExperimentEnabled(S)) return !this.viewerContext.isPrimaryLanguage();
                    const t = this.siteStore.getMultiLangFields();
                    return !!t && !t.isPrimaryLanguage
                })), e()(this, "onFocusTriggered", (() => {
                    this.setProps({
                        triggerFocus: !1
                    })
                })), e()(this, "onAppLoaded", (() => {
                    if (!("undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope) || (this.viewerContext.isExperimentEnabled(S) ? !this.viewerContext.isSSR() : this.siteStore.isInteractive())) {
                        this.memoryStorage.getItem("cartIconLoaded") || (this.memoryStorage.setItem("cartIconLoaded", "true"), this.reportCartIconLoaded())
                    }
                })), e()(this, "reportCartIconLoaded", (async () => {
                    this.biService.reportCartIconLoaded({
                        cartId: await this.getCartId(),
                        shouldOpenSideCartFromSettings: this.shouldOpenSideCartFromSettings()
                    })
                })), e()(this, "handleNavigateToCart", (async t => {
                    var e;
                    const n = "cart-icon";
                    this.biService.reportClickToNavigateToCart({
                        cartId: t,
                        itemsCount: null == (e = this.cartModel) ? void 0 : e.itemsCount,
                        origin: n
                    });
                    const r = this.viewerContext.isExperimentEnabled(S) ? {
                        appSectionParams: JSON.stringify({
                            origin: n
                        })
                    } : {
                        origin: n
                    };
                    await this.viewerContext.navigateToSection(A.CART, r)
                })), e()(this, "subscribeToMiniCartCloseEvent", (() => {
                    const t = this.pubSubManager.subscribe("Minicart.DidClose", (() => {
                        this.setProps({
                            triggerFocus: !0
                        }), this.pubSubManager.unsubscribe("Minicart.DidClose", t)
                    }))
                })), e()(this, "onIconClick", (async () => {
                    const t = await this.getCartId();
                    if (this.shouldOpenSideCartFromSettings()) {
                        var e;
                        const n = await this.viewerContext.getEcomPlatformPublicAPI();
                        try {
                            await Promise.resolve(n.cart.openSideCart())
                        } catch (e) {
                            return void await this.handleNavigateToCart(t)
                        }
                        this.biService.reportClickToOpenSideCart({
                            cartId: t,
                            itemsCount: null == (e = this.cartModel) ? void 0 : e.itemsCount
                        }), await n.cart.hasSideCart() || this.subscribeToMiniCartCloseEvent()
                    } else await this.handleNavigateToCart(t)
                })), e()(this, "onIconHover", (async () => {
                    if (!this.viewerContext.isExperimentEnabled(w)) return;
                    const t = await this.viewerContext.getEcomPlatformPublicAPI();
                    this.shouldOpenSideCartFromSettings() ? await t.cart.preloadSideCart() : await t.cart.preloadCartPage()
                })), this.pubSubManager = new q(d), this.styleParams = this.config.style.styleParams, this.currentCartService.onChange((() => {
                    this.onUpdated()
                }))
            }
            async onUpdated() {
                try {
                    await this.fetchCartSDKModel(), this.updateCartCount(this.cartModel.itemsCount)
                } catch (t) {
                    this.reportError(t)
                }
            }
            updateCartCount(t) {
                this.setProps({ ...this.getCountRelatedProps(t)
                })
            }
            async init() {
                const t = this.viewerContext.isSSR() ? void 0 : this.fetchCartSDKModel(),
                    e = this.isMultilingualNonPrimary(),
                    n = z.includes(this.styleParams.numbers.cartWidgetIcon || 1),
                    r = !!this.config.externalId,
                    o = e && n && r ? this.getAppSettingsData() : void 0,
                    i = this.viewerContext.isExperimentEnabled(h),
                    a = this.viewerContext.isExperimentEnabled(y);
                try {
                    const [e, n] = await Promise.all([o, this.viewerContext.getSectionUrl(A.CART)]), r = { ...this.getCountRelatedProps(void 0),
                        cartLink: n ? ? "",
                        fitToContentHeight: !0,
                        isInteractive: this.viewerContext.isExperimentEnabled(S) ? !this.viewerContext.isSSR() : this.siteStore.isInteractive(),
                        isLoaded: !0,
                        displayText: this.getDisplayText(null == e ? void 0 : e.widgetSettings),
                        triggerFocus: !1,
                        onFocusTriggered: this.onFocusTriggered,
                        isNavigate: !this.shouldOpenSideCartFromSettings(),
                        onIconClick: this.onIconClick,
                        onIconHover: this.onIconHover,
                        onAppLoaded: this.onAppLoaded,
                        ravenUserContextOverrides: {
                            id: this.viewerContext.getEcomPlatformInstanceId(),
                            uuid: this.viewerContext.getVisitorId()
                        },
                        isCartIconCssVarsCssOptimizationEnabled: i,
                        fixCartIconOnEditor: this.viewerContext.isExperimentEnabled(v),
                        isUpdateCartIconsSVGViewerEnabled: a
                    };
                    this.setProps(r), null == t || t.then((() => {
                        var t;
                        this.fedops.interactionEnded(P.CART_ICON_LOADED), this.setProps({ ...this.getCountRelatedProps(null == (t = this.cartModel) ? void 0 : t.itemsCount)
                        })
                    })).catch((t => {
                        this.cartModel = K.fromSDK({
                            _id: g,
                            lineItems: []
                        }), this.updateCartCount(0), this.reportError(t)
                    }))
                } catch (t) {
                    this.reportError(t)
                }
            }
            getDisplayText(t) {
                const e = this.translations.t(`CART_ICON_${this.styleParams.numbers.cartWidgetIcon||1}`);
                let n = {};
                return this.isMultilingualNonPrimary() ? t ? (n = t[V(this.viewerContext.getCurrentLanguage())], H().get(n, "CART_ICON_TEXT", "") || e) : this.appSettings ? (n = this.appSettings[V(this.viewerContext.getCurrentLanguage())], H().get(n, "CART_ICON_TEXT", "") || e) : e : H().get(this.appSettings, "main.CART_ICON_TEXT", "") || H().get(this.config, "publicData.APP.CART_ICON_TEXT", "") || e
            }
            updateStyleParams(t) {
                this.styleParams = t, this.setProps({
                    displayText: this.getDisplayText()
                })
            }
            updateAppSettings(t) {
                this.appSettings = t, this.setProps({
                    displayText: this.getDisplayText()
                })
            }
            async getAppSettingsData() {
                if (this.appSettingsPromise) return this.appSettingsPromise;
                const t = {
                    query: "query getAppSettingsData($externalId: String!) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n}",
                    source: "WixStoresWebClient",
                    operationName: "getAppSettings",
                    variables: {
                        externalId: this.config.externalId || ""
                    }
                };
                return this.appSettingsPromise = this.siteStore.tryGetGqlAndFallbackToPost(this.siteStore.resolveAbsoluteUrl(`/${I.STOREFRONT_GRAPHQL_URL}`), t).then((t => {
                    let {
                        data: e
                    } = t;
                    return {
                        widgetSettings: H().get(e, "appSettings.widgetSettings", {})
                    }
                })), this.appSettingsPromise
            }
            shouldOpenSideCartFromSettings() {
                const {
                    iconLink: t
                } = this.styleParams.numbers;
                return !t || 2 === t
            }
            unSubscribeAll() {
                return this.pubSubManager.unsubscribeAll()
            }
            async getCartId() {
                var t;
                let e = null == (t = this.cartModel) ? void 0 : t.id;
                if (!e) try {
                    var n;
                    await this.fetchCartSDKModel(), e = null == (n = this.cartModel) ? void 0 : n.id
                } catch (t) {
                    e = g
                }
                return e === g ? void 0 : e
            }
            getCountRelatedProps(t) {
                return {
                    count: t,
                    ariaLabelLink: this.translations.t("sr.CART_WIDGET_BUTTON_TEXT", {
                        itemsCount: t
                    })
                }
            }
            async fetchCartSDKModel() {
                const t = await this.currentCartService.getCurrentCart();
                this.cartModel = K.fromSDK(t)
            }
            async executeWithFedops(t, e) {
                var n, r;
                this.fedops.interactionStarted(t), null == (n = this.panoramaClient) || n.transaction(t).start(), await e(), this.fedops.interactionEnded(t), null == (r = this.panoramaClient) || r.transaction(t).finish()
            }
        }

        function $(t) {
            return $ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }, $(t)
        }

        function J(t) {
            var e = function(t, e) {
                if ("object" != $(t) || !t) return t;
                var n = t[Symbol.toPrimitive];
                if (void 0 !== n) {
                    var r = n.call(t, e || "default");
                    if ("object" != $(r)) return r;
                    throw new TypeError("@@toPrimitive must return a primitive value.")
                }
                return ("string" === e ? String : Number)(t)
            }(t, "string");
            return "symbol" == $(e) ? e : e + ""
        }

        function Q(t, e, n) {
            return (e = J(e)) in t ? Object.defineProperty(t, e, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : t[e] = n, t
        }
        const X = "1380b703-ce81-ff05-f115-39571d94dfcd";
        class Z {
            constructor(t, e) {
                this.controllerConfig = t, this.siteStore = e, Q(this, "ecomPlatformInstance", ""), e || (this.ecomPlatformInstance = t.appParams.instance, t.wixCodeApi.site.onInstanceChanged((t => {
                    let {
                        instance: e
                    } = t;
                    this.ecomPlatformInstance = e
                }), X))
            }
            isExperimentEnabled(t) {
                return this.siteStore ? this.siteStore.experiments.enabled(t) : this.controllerConfig.essentials.experiments.enabled(t)
            }
            isSSR() {
                return this.siteStore ? this.siteStore.isSSR() : "backend" === this.controllerConfig.wixCodeApi.window.rendering.env
            }
            getDeviceType() {
                return this.siteStore ? this.siteStore.formFactor : this.controllerConfig.wixCodeApi.window.formFactor
            }
            getViewMode() {
                return this.siteStore ? this.siteStore.viewMode : this.controllerConfig.wixCodeApi.window.viewMode
            }
            getVisitorId() {
                var t;
                return this.siteStore ? this.siteStore.uuid : null == (t = this.controllerConfig.platformAPIs.bi) ? void 0 : t.visitorId
            }
            isPrimaryLanguage() {
                if (this.siteStore) {
                    const t = this.siteStore.getMultiLangFields();
                    return Boolean(!t || t.isPrimaryLanguage)
                }
                const t = this.controllerConfig.wixCodeApi.window.multilingual.siteLanguages.find((t => t.languageCode === this.controllerConfig.wixCodeApi.window.multilingual.currentLanguage));
                return !t || t.isPrimaryLanguage
            }
            getCurrentLanguage() {
                var t;
                return this.siteStore ? (null == (t = this.siteStore.getMultiLangFields()) ? void 0 : t.lang) || "en" : this.controllerConfig.wixCodeApi.window.multilingual.isEnabled ? this.controllerConfig.wixCodeApi.window.multilingual.currentLanguage.split("-")[0] : this.controllerConfig.wixCodeApi.site.language || "en"
            }
            getEcomPlatformInstance() {
                return this.ecomPlatformInstance
            }
            getEcomPlatformInstanceId() {
                return this.siteStore ? this.siteStore.storeId : this.controllerConfig.appParams.instanceId
            }
            getEcomPlatformPublicAPI() {
                return this.controllerConfig.wixCodeApi.site.getPublicAPI(X)
            }
            async getSectionUrl(t) {
                const e = await this.getSectionUrlConfig(t);
                return null == e ? void 0 : e.url
            }
            async navigateToSection(t, e) {
                if (this.siteStore) return this.siteStore.navigate({
                    sectionId: t,
                    queryParams: e
                }, !0);
                const n = await this.getSectionUrlConfig(t);
                if (null == n || !n.relativeUrl || !this.controllerConfig.wixCodeApi.location.to) throw new Error(`Can't navigate to ${t}`);
                const r = new URL(n.relativeUrl, "https://dummy");
                return Object.entries(e || {}).forEach((t => {
                    let [e, n] = t;
                    return r.searchParams.append(e, n)
                })), this.controllerConfig.wixCodeApi.location.to(r.pathname + r.search)
            }
            getSectionUrlConfig(t) {
                const e = {
                    sectionId: t,
                    appDefinitionId: X
                };
                return this.controllerConfig.wixCodeApi.site.getSectionUrl(e, !1)
            }
        }
        class tt {
            constructor(t, n, r) {
                this.viewerContext = t, this.controllerConfig = n, this.siteStore = r, e()(this, "biLogger", void 0), this.biLogger = this.viewerContext.isExperimentEnabled(S) ? this.createBILogger(n, t) : r.webBiLogger
            }
            reportCartIconLoaded(t) {
                let {
                    cartId: e,
                    shouldOpenSideCartFromSettings: n
                } = t;
                this.biLogger.report({
                    evid: 546,
                    src: 130,
                    endpoint: "",
                    params: {
                        isMobileFriendly: this.viewerContext.isExperimentEnabled(S) ? this.controllerConfig.wixCodeApi.window.isMobileFriendly : this.siteStore.isMobileFriendly,
                        navigationClick: n ? "mini cart" : "cart",
                        cartId: e
                    }
                })
            }
            reportClickToOpenSideCart(t) {
                let {
                    cartId: e,
                    itemsCount: n
                } = t;
                this.biLogger.report({
                    evid: 49,
                    src: 130,
                    endpoint: "",
                    params: {
                        cartId: e,
                        itemsCount: n,
                        viewMode: this.viewerContext.getViewMode().toLowerCase(),
                        isNavigateCart: !1
                    }
                })
            }
            reportClickToNavigateToCart(t) {
                let {
                    cartId: e,
                    itemsCount: n,
                    origin: r
                } = t;
                this.biLogger.report({
                    evid: 130,
                    src: 130,
                    endpoint: "",
                    params: {
                        cartId: e,
                        itemsCount: n,
                        viewMode: this.viewerContext.getViewMode().toLowerCase(),
                        origin: r,
                        isNavigateCart: !0
                    }
                })
            }
            reportEcomTestBI() {
                this.biLogger.report({
                    evid: 160,
                    src: 130,
                    endpoint: "",
                    params: {
                        type: "ViewerCurrency",
                        data: JSON.stringify({
                            currency: this.controllerConfig.wixCodeApi.site.currency,
                            regionalSettings: this.controllerConfig.wixCodeApi.site.regionalSettings,
                            language: this.controllerConfig.wixCodeApi.site.language
                        })
                    }
                })
            }
            createBILogger(t, e) {
                const n = t.platformAPIs.bi,
                    r = "Site" === e.getViewMode() ? {
                        visitor_id: n.visitorId
                    } : {
                        uuid: n.ownerId
                    };
                return function(t) {
                    var e = t.user,
                        n = t.biToken,
                        r = t.defaults,
                        o = void 0 === r ? {} : r,
                        i = t.isDebug,
                        s = void 0 !== i && i,
                        l = t.biLoggerFactory,
                        u = a(a(a({}, o), {
                            bi_token: n
                        }), e),
                        c = s ? "frog.wixpress.com" : void 0,
                        p = l({
                            host: c
                        });
                    return p.factory && (p = p.factory({
                        host: c
                    })), p.updateDefaults(u).logger()
                }({
                    biLoggerFactory: t.platformAPIs.biLoggerFactory,
                    user: r,
                    biToken: n.biToken,
                    defaults: {
                        storeId: e.getEcomPlatformInstanceId(),
                        editorMode: "Desktop" === e.getDeviceType() ? "desktop" : "mobile",
                        isMerchant: !1,
                        appName: "Stores",
                        _msid: n.metaSiteId
                    }
                })
            }
        }
        var et, nt, rt, ot, it = function(t) {
            return function(e) {
                console.error(e), t.controllerConfig.setProps({
                    generalError: !0
                }), t.appData.reportError(e)
            }
        };
        ! function(t) {
            t.CartDelete = "DeleteCartCommand", t.CartRemoveItem = "RemoveCartItemCommand", t.CartUpdateItem = "UpdateCartItemCommand", t.CartUpdateBuyerNote = "UpdateBuyerNoteToCartCommand", t.CartApplyCoupon = "SetCartCouponCommand2", t.CartRemoveCoupon = "RemoveCouponFromCartCommand"
        }(et || (et = {})),
        function(t) {
            t.GetAppSettings = "getAppSettings", t.GetCartService = "getCartService", t.GetCart = "getCart", t.GetLegacyCart = "getLegacyCart", t.GetLegacyCartOrCheckout = "getLegacyCartOrCheckout", t.GetCashierCheckoutData = "getCashierCheckoutData", t.GetCheckout = "getCheckout", t.GetDepositData = "getDepositData", t.GetLocaleData = "getLocaleData", t.GetAtlasAddressByZipCode = "getAtlasAddressByZipCode", t.GetOrder = "getOrder", t.GetOrderForTYP = "getOrderForTYP", t.GetOrderForTYPOld = "GetOrderForTYPOld", t.GetOrderForTYPNoModifiers = "getOrderForTYPNoModifiers", t.GetOrderForTYPOldNoModifiers = "GetOrderForTYPOldNoModifiers", t.GetPayments = "getPayments", t.GetSubscription = "getSubscription", t.GetStoreMetaData = "getStoreMetaData", t.GetProduct = "getProduct", t.GetExtendedProductBySlug = "getExtendedProductBySlug", t.GetExtendedProductById = "getExtendedProductById", t.GetExtendedProductsList = "getExtendedProductsList", t.GetBackInStockSettings = "getBackInStockSettings", t.GetCountryCodes = "getCountryCodes", t.SetAddress = "setAddress", t.SetCartShippingAddressAndDestination = "setCartShippingAddressAndDestination", t.SetCartBillingAddress = "setCartBillingAddress", t.SetCartShippingAddressesForFastFlowEstimation = "setCartShippingAddressesForFastFlowEstimation", t.SetDestinationForEstimation = "setDestinationForEstimation", t.SetCartAddressesAndDestinationFromSingleAddress = "setCartAddressesAndDestinationFromSingleAddress", t.SetCartShippingOption = "setShippingOption", t.SetCartShippingOptionNew = "setCartShippingOption", t.SubmitPayment = "submitPayment", t.CreateCheckout = "createCheckout", t.MarkCheckoutAsCompleted = "markCheckoutAsCompleted", t.AddToCart = "addToCart", t.AddCustomItemsToCart = "addCustomItemsToCart", t.AddToCartWixCode = "addToCartWixCode", t.SetCoupon = "setCoupon", t.RemoveCoupon = "removeCoupon", t.UpdateBuyerNote = "updateBuyerNote", t.RemoveItem = "removeItem", t.UpdateItemQuantity = "updateItemQuantity", t.CreateCart = "createCart", t.GetCheckoutSettings = "getCheckoutSettings", t.GetPaymentRequestSettings = "getPaymentRequestSettings"
        }(nt || (nt = {})),
        function(t) {
            t.Changed = "Cart.Changed", t.Cleared = "Cart.Cleared"
        }(rt || (rt = {})),
        function(t) {
            t.NodeReadWrite = "NodeReadWrite", t.NodeReadWriteForcePlatform = "NodeReadWriteForcePlatform", t.ScalaReadOnly = "ScalaReadOnly", t.ScalaReadWrite = "ScalaReadWrite"
        }(ot || (ot = {}));
        var at = function(t) {
                function e(e, n) {
                    var r = t.call(this, e) || this;
                    return r.data = n, r.name = "FetchError", r
                }
                return i(e, t), e
            }(Error),
            st = function() {
                function t(t) {
                    var e = t.siteStore;
                    this.siteStore = e
                }
                return t.prototype.executeOperation = function(t) {
                    var e = t.query,
                        n = t.variables,
                        r = t.operationName,
                        o = t.forcePost,
                        i = void 0 !== o && o,
                        a = t.endpoint,
                        s = t.selectErrorsFn,
                        c = void 0 === s ? function() {} : s,
                        p = t.source,
                        d = void 0 === p ? "WixStoresWebClient" : p;
                    return l(this, void 0, void 0, (function() {
                        var t, o;
                        return u(this, (function(s) {
                            switch (s.label) {
                                case 0:
                                    return t = {
                                        query: e,
                                        variables: n,
                                        operationName: r,
                                        source: d
                                    }, i || !a.includes(I.NODE_GRAPHQL_URL) ? [3, 2] : [4, this.tryNodeGetGqlAndFallbackToPost(a, t)];
                                case 1:
                                    return o = s.sent(), [3, 6];
                                case 2:
                                    return i ? [4, this.siteStore.httpClient.post(a, t)] : [3, 4];
                                case 3:
                                    return o = s.sent(), [3, 6];
                                case 4:
                                    return [4, this.siteStore.tryGetGqlAndFallbackToPost(a, t)];
                                case 5:
                                    o = s.sent(), s.label = 6;
                                case 6:
                                    if (c(o)) throw new at(c(o));
                                    return [2, o]
                            }
                        }))
                    }))
                }, t.prototype.tryNodeGetGqlAndFallbackToPost = function(e, n, r) {
                    var o = this;
                    return this.siteStore.httpClient.get(e, {
                        queryParams: t.composeNodeGqlGetQueryParams(n)
                    }, !1).catch((function() {
                        return o.siteStore.httpClient.post(e, n, r)
                    }))
                }, t.minifyGraphqlQuery = function(t) {
                    return t.replace(/\s+/g, " ").replace(/\s?{\s?/g, "{").replace(/\s?}\s?/g, "}").trim()
                }, t.composeNodeGqlGetQueryParams = function(e) {
                    var n, r, o = t.minifyGraphqlQuery(e.query),
                        i = e.variables ? JSON.stringify(e.variables) : null,
                        a = e.operationName,
                        s = {};
                    try {
                        for (var l = c(Object.entries({
                                query: o,
                                variables: i,
                                operationName: a
                            })), u = l.next(); !u.done; u = l.next()) {
                            var d = p(u.value, 2),
                                f = d[0],
                                g = d[1];
                            g && (s[f] = g)
                        }
                    } catch (t) {
                        n = {
                            error: t
                        }
                    } finally {
                        try {
                            u && !u.done && (r = l.return) && r.call(l)
                        } finally {
                            if (n) throw n.error
                        }
                    }
                    return s
                }, t
            }(),
            lt = function() {
                function t(t) {
                    var e = t.siteStore,
                        n = t.origin;
                    this.origin = n, this.siteStore = e, this.graphqlClient = new st({
                        siteStore: e
                    })
                }
                return t.prototype.absoluteUrl = function(t) {
                    return this.siteStore.resolveAbsoluteUrl(t)
                }, Object.defineProperty(t.prototype, "endpoints", {
                    get: function() {
                        var t, e = this;
                        return (t = {})[ot.ScalaReadOnly] = this.absoluteUrl("/".concat(I.STOREFRONT_GRAPHQL_URL)), t[ot.ScalaReadWrite] = this.absoluteUrl("/".concat(I.READ_WRITE_GRAPHQL_URL)), t[ot.NodeReadWrite] = this.absoluteUrl("/".concat(I.NODE_GRAPHQL_URL)), t[ot.NodeReadWriteForcePlatform] = this.absoluteUrl("/".concat(I.NODE_GRAPHQL_URL, "?forceNodeOnlyResponse=true")), t.cartCommmands = function(t) {
                            return e.absoluteUrl("".concat(I.CART_COMMANDS_URL.replace("{commandName}", t)))
                        }, t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.post = function(t, e, n) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.siteStore.httpClient.post(t, e, {
                                        queryParams: n
                                    }).catch((function(t) {
                                        if (t.data && t.data.response && t.data.response.errors) throw {
                                            success: !1,
                                            errors: t.data.response.errors
                                        };
                                        throw t
                                    }))];
                                case 1:
                                    return [2, r.sent().data]
                            }
                        }))
                    }))
                }, t.prototype.fetch = function(t, e, n, r) {
                    var o = t.query,
                        i = t.variables,
                        a = t.operationName,
                        s = t.source;
                    void 0 === e && (e = ot.ScalaReadWrite);
                    var l = this.endpoints[e];
                    return this.graphqlClient.executeOperation({
                        query: o,
                        variables: i,
                        operationName: a,
                        forcePost: n,
                        endpoint: l,
                        selectErrorsFn: r,
                        source: s
                    })
                }, t.prototype.mutate = function(t, e) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(n) {
                            return [2, this.fetch(t, ot.NodeReadWrite, !0, e).then((function(t) {
                                return t.data
                            }))]
                        }))
                    }))
                }, t
            }(),
            ut = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t), e.prototype.fetchWidgetSettings = function(t) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.fetch({
                                        variables: t,
                                        query: "query getAppSettings($externalId: String!) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n}",
                                        operationName: nt.GetAppSettings
                                    }, ot.ScalaReadOnly)];
                                case 1:
                                    return [2, e.sent().data.appSettings]
                            }
                        }))
                    }))
                }, e
            }(lt);
        var ct = function() {
                function t(t, e, n) {
                    var r;
                    void 0 === e && (e = {}), void 0 === n && (n = {}), this.siteStore = t, this.publicData = e, this.widgetSettings = n;
                    var o = null !== (r = this.siteStore.getMultiLangFields()) && void 0 !== r ? r : this.defaultMultiLangFields;
                    this.isPrimaryLanguage = o.isPrimaryLanguage, this.lang = o.lang, this.locale = o.locale
                }
                return Object.defineProperty(t.prototype, "defaultMultiLangFields", {
                    get: function() {
                        return {
                            isPrimaryLanguage: !0,
                            lang: this.siteStore.locale,
                            locale: this.siteStore.locale
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.get = function(t) {
                    if (this.isPrimaryLanguage) return this.publicData[t];
                    var e = this.widgetSettings[V(this.lang)];
                    return null == e ? void 0 : e[t]
                }, t.prototype.getAll = function(t) {
                    if (void 0 === t && (t = !1), this.isPrimaryLanguage) return this.publicData;
                    var e = this.widgetSettings[V(this.lang)];
                    if (!t) return e;
                    var n = "\u25b6\ufe0el:".concat(this.lang),
                        r = Object.fromEntries(Object.entries(null != e ? e : {}).map((function(t) {
                            var e = p(t, 2),
                                r = e[0],
                                o = e[1];
                            return ["".concat(r).concat(n), o]
                        })));
                    return a(a({}, e), r)
                }, t.prototype.setWidgetSettings = function(t) {
                    this.widgetSettings = t
                }, t.prototype.setPublicData = function(t) {
                    this.publicData = t
                }, t.prototype.getMergedTranslationsAsPublicData = function(t, e) {
                    void 0 === e && (e = !1);
                    var n, r = G.omit(this.publicData, t);
                    return n = G.merge({}, r, this.getAll(e)), Object.entries(n).reduce((function(t, e) {
                        var n = p(e, 2),
                            r = n[0],
                            o = n[1];
                        return o && (t[r] = o), t
                    }), {})
                }, t
            }(),
            pt = n(985),
            dt = n(86),
            ft = n.n(dt);
        const gt = function() {
            return ft()()
        };

        function ht(t) {
            return new Promise((function(e) {
                setTimeout(e, t)
            }))
        }
        var vt, mt = function(t) {
                function e(n, r) {
                    var o = t.call(this, "request to ".concat(n, " failed, status code is ").concat(r)) || this;
                    return o.url = n, o.statusCode = r, Object.setPrototypeOf(o, e.prototype), o
                }
                return i(e, t), e
            }(Error),
            yt = (function() {
                function t(t) {
                    var e = t.apiClient,
                        n = t.scope,
                        r = t.adapter,
                        o = t.data,
                        i = t.generateId,
                        a = void 0 === i ? gt : i,
                        s = t.wait,
                        l = void 0 === s ? ht : s;
                    this.firstTime = !0, this.apiClient = e, this.scope = n, this.adapter = r, this.data = o, this.generateId = a, this.instance = r.signedInstance, this.queue = [], this.wait = l
                }
                t.prototype.getAll = function() {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.get()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.get = function(t) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return e.sent(), [2, t ? this.data[t] : this.data]
                            }
                        }))
                    }))
                }, t.prototype.set = function(t, e) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return n.sent(), [4, this.update(t, e)];
                                case 2:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.delete = function(t) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    if (e.sent(), !this.data.hasOwnProperty(t)) throw new Error("'".concat(t, "' doesn't exist in settings"));
                                    return [4, this.update(t, null)];
                                case 2:
                                    return e.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.loadData = function() {
                    return l(this, void 0, void 0, (function() {
                        var t;
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    this.getPromise || (this.getPromise = this.resolveData()), e.label = 1;
                                case 1:
                                    return e.trys.push([1, 3, , 4]), [4, this.getPromise];
                                case 2:
                                    return e.sent(), [3, 4];
                                case 3:
                                    throw t = e.sent(), this.getPromise = null, t;
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.resolveData = function() {
                    return l(this, void 0, void 0, (function() {
                        var t, e, n;
                        return u(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.getExternalId()];
                                case 1:
                                    if (t = r.sent(), this.data || !t) return [3, 6];
                                    r.label = 2;
                                case 2:
                                    return r.trys.push([2, 4, , 5]), e = this, [4, this.apiClient.get(this.instance, t, this.scope)];
                                case 3:
                                    return e.data = r.sent(), [3, 5];
                                case 4:
                                    if ((n = r.sent()) instanceof mt && 404 === n.statusCode) return this.firstTime = !0, this.data = {}, [2];
                                    throw n;
                                case 5:
                                    return this.firstTime = !1, [3, 7];
                                case 6:
                                    this.data || (this.data = {}), r.label = 7;
                                case 7:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.update = function(t, e) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.data[t] = e, this.adapter.triggerSettingsUpdated(this.data, this.scope), this.queue.push({
                                        key: t,
                                        value: e
                                    }), this.flushPromise || (this.flushPromise = this.flushQueue()), [4, this.flushPromise];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.flushQueue = function() {
                    return l(this, void 0, void 0, (function() {
                        var t;
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.wait(100)];
                                case 1:
                                    return e.sent(), t = this.queue.slice(), this.queue = [], this.flushPromise = null, [4, this.saveChanges(t)];
                                case 2:
                                    return e.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.saveChanges = function(t) {
                    return l(this, void 0, void 0, (function() {
                        var e, n;
                        return u(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return e = t.reduce((function(t, e) {
                                        return t[e.key] = e.value, t
                                    }), {}), this.firstTime ? (n = this.generateId(), [4, this.apiClient.set(this.instance, n, this.scope, e)]) : [3, 3];
                                case 1:
                                    return r.sent(), [4, this.setExternalId(n)];
                                case 2:
                                    return r.sent(), this.firstTime = !1, [3, 6];
                                case 3:
                                    return [4, this.apiClient.update(this.instance, this.externalId, this.scope, e)];
                                case 4:
                                    return n = r.sent(), [4, this.setExternalId(n)];
                                case 5:
                                    r.sent(), r.label = 6;
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.setExternalId = function(t) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.adapter.setExternalId(t)];
                                case 1:
                                    return e.sent(), this.externalId = t, [2]
                            }
                        }))
                    }))
                }, t.prototype.getExternalId = function() {
                    return l(this, void 0, void 0, (function() {
                        var t;
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.externalId ? [3, 2] : (t = this, [4, this.adapter.getExternalId()]);
                                case 1:
                                    t.externalId = e.sent(), e.label = 2;
                                case 2:
                                    return [2, this.externalId]
                            }
                        }))
                    }))
                }
            }(), function() {
                function t(t) {
                    var e = t.adapter,
                        n = t.scope,
                        r = t.cdnClient,
                        o = t.data,
                        i = this;
                    this.adapter = e, this.scope = n, this.cdnClient = r, this.data = o, this.listeners = [], this.adapter.onSettingsUpdated(n, (function(t) {
                        i.data = t, i.listeners.forEach((function(t) {
                            return t(i.data)
                        }))
                    }))
                }
                return t.prototype.getAll = function() {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.get()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.get = function(t) {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return e.sent(), [2, t ? this.data[t] : this.data]
                            }
                        }))
                    }))
                }, t.prototype.onChange = function(t) {
                    this.listeners.push(t)
                }, t.prototype.loadData = function() {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.getPromise || (this.getPromise = this.resolveData()), [4, this.getPromise];
                                case 1:
                                    return t.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.resolveData = function() {
                    return l(this, void 0, void 0, (function() {
                        var t, e;
                        return u(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = this, [4, this.getExternalId()];
                                case 1:
                                    return t.externalId = n.sent(), this.data || !this.externalId ? [3, 3] : (e = this, [4, this.cdnClient.get(this.adapter.getAppDefId(), this.adapter.getInstanceId(), this.externalId, this.scope)]);
                                case 2:
                                    return e.data = n.sent(), [3, 4];
                                case 3:
                                    this.data || (this.data = {}), n.label = 4;
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.getExternalId = function() {
                    return l(this, void 0, void 0, (function() {
                        var t;
                        return u(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return (t = this.externalId) ? [3, 2] : [4, this.adapter.getExternalId()];
                                case 1:
                                    t = e.sent(), e.label = 2;
                                case 2:
                                    return [2, t]
                            }
                        }))
                    }))
                }, t
            }()),
            bt = n(296),
            St = function() {
                function t(t) {
                    var e = t.jsSdkInstance,
                        n = t.signedInstance;
                    this.jsSdkWrapper = (0, bt.h)(e), this.originalJsSdk = e, this.signedInstance = n
                }
                return t.prototype.getAppDefId = function() {
                    return this.jsSdkWrapper.Utils.getInstanceValue("appDefId")
                }, t.prototype.getInstanceId = function() {
                    var t = this.jsSdkWrapper.Utils.getInstanceValue("metaSiteId"),
                        e = this.jsSdkWrapper.Utils.getInstanceValue("originInstanceId");
                    return !t && e ? e : this.jsSdkWrapper.Utils.getInstanceId()
                }, t.prototype.getExternalId = function() {
                    return l(this, void 0, void 0, (function() {
                        return u(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.jsSdkWrapper.getExternalId()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.setExternalId = function(t) {
                    return l(this, void 0, void 0, (function() {
                        var e = this;
                        return u(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise((function(n, r) {
                                        return e.originalJsSdk.Settings.setExternalId(t, n, r, !0)
                                    }))];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.triggerSettingsUpdated = function(t, e) {
                    var n = {
                        scope: e,
                        payload: t,
                        source: "app-settings"
                    };
                    this.jsSdkWrapper.Settings.triggerSettingsUpdatedEvent(n, this.jsSdkWrapper.Utils.getOrigCompId())
                }, t.prototype.onSettingsUpdated = function(t, e) {
                    this.jsSdkWrapper.addEventListener("SETTINGS_UPDATED", (function(n) {
                        n && "app-settings" === n.source && n.scope === t && e(n.payload)
                    }))
                }, t
            }();
        ! function(t) {
            t.APP = "APP", t.COMPONENT = "COMPONENT"
        }(vt || (vt = {}));
        ! function() {
            function t(t) {
                this.apiUrl = t.replace(/\/$/, "")
            }
            t.prototype.get = function(t, e, n) {
                return l(this, void 0, void 0, (function() {
                    var r, o;
                    return u(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return r = "".concat(this.apiUrl, "/v1/settings?external_").concat(n.toLowerCase(), "_id=").concat(e), [4, this.requestJson({
                                    signedInstance: t,
                                    url: r,
                                    method: "GET"
                                })];
                            case 1:
                                return o = i.sent(), [2, n === vt.APP ? o.appSettings : o.componentSettings]
                        }
                    }))
                }))
            }, t.prototype.set = function(t, e, n, r) {
                return l(this, void 0, void 0, (function() {
                    var o;
                    return u(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return o = "".concat(this.apiUrl, "/v1/settings/").concat(n, "/").concat(e), [4, this.requestJson({
                                    signedInstance: t,
                                    url: o,
                                    requestBody: {
                                        data: r
                                    },
                                    method: "PUT"
                                })];
                            case 1:
                                return [2, i.sent()]
                        }
                    }))
                }))
            }, t.prototype.update = function(t, e, n, r) {
                return l(this, void 0, void 0, (function() {
                    var o, i, s, l, c;
                    return u(this, (function(u) {
                        switch (u.label) {
                            case 0:
                                return o = "".concat(this.apiUrl, "/v1/settings/").concat(n, "/").concat(e), i = function(t) {
                                    var e = a({}, t),
                                        n = Object.keys(e);
                                    return Object.keys(e).forEach((function(t) {
                                        (null === e[t] || void 0 === e[t]) && delete e[t]
                                    })), {
                                        fields: n,
                                        sanitizedData: e
                                    }
                                }(r), s = i.fields, l = i.sanitizedData, c = {
                                    data: l,
                                    fields: s
                                }, [4, this.requestJson({
                                    signedInstance: t,
                                    url: o,
                                    requestBody: c,
                                    method: "PATCH"
                                })];
                            case 1:
                                return [2, u.sent().newExternalId]
                        }
                    }))
                }))
            }, t.prototype.requestJson = function(t) {
                var e = t.signedInstance,
                    n = t.method,
                    r = void 0 === n ? "GET" : n,
                    o = t.requestBody,
                    i = t.url;
                return l(this, void 0, void 0, (function() {
                    var t, n;
                    return u(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return t = e ? {
                                    Authorization: e
                                } : {}, [4, fetch(i, {
                                    method: r,
                                    body: JSON.stringify(o),
                                    headers: a({
                                        "Content-Type": "application/json"
                                    }, t)
                                })];
                            case 1:
                                if (!(n = s.sent()).ok) throw new mt(i, n.status);
                                return [4, n.json()];
                            case 2:
                                return [2, s.sent()]
                        }
                    }))
                }))
            }
        }();

        function wt(t, e) {
            if (!Boolean(t)) throw new Error(e)
        }

        function Pt(t, e, n) {
            var r = t || e();
            return wt(void 0 !== r, n), r
        }
        var Ct = function() {
            function t(t) {
                this.cdnUrl = (t.baseCdnUrl || "https://settings.parastorage.com/").replace(/\/$/, ""), this.fetch = t.fetch || function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return fetch.apply(void 0, t)
                }
            }
            return t.prototype.get = function(t, e, n, r) {
                return l(this, void 0, void 0, (function() {
                    var o;
                    return u(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return o = "".concat(this.cdnUrl, "/v1/settings/").concat(t, "/").concat(e, "/").concat(r, "/").concat(n), [4, this.fetch(o, {
                                    method: "GET",
                                    headers: {
                                        "Content-Type": "application/json"
                                    }
                                })];
                            case 1:
                                return [4, i.sent().json()];
                            case 2:
                                return [2, i.sent()]
                        }
                    }))
                }))
            }, t
        }();
        var It = {
            wixSdk: function(t) {
                var e = void 0 === t ? {} : t,
                    n = e.jsSdkInstance,
                    r = e.signedInstance;
                return new St({
                    jsSdkInstance: Pt(n, Ot, "window.Wix is undefined, please specify jsSdkInstance"),
                    signedInstance: Pt(r, Et, "no instance in query parameters, please specify signedInstance")
                })
            }
        };

        function xt(t) {
            wt(void 0 !== t, "opts is mandatory"), wt(void 0 !== t.scope, "scope is mandatory"), wt(t.scope === vt.COMPONENT || t.scope === vt.APP, "scope must be APP or COMPONENT"), wt(t.scope === vt.COMPONENT, "APP scope is not supported")
        }

        function Ot() {
            return window.Wix
        }

        function Et() {
            return (0, pt.qg)(window.location.search).instance
        }

        function At(t, e, n) {
            var r;
            return void 0 === n && (n = {}), l(this, void 0, void 0, (function() {
                var o, i, s, l, c, p;
                return u(this, (function(u) {
                    switch (u.label) {
                        case 0:
                            return o = t.dangerousPublicDataOverride, i = t.controllerConfig.setProps, s = t.appData.context.siteStore, [4, new ut({
                                siteStore: s,
                                origin: ""
                            }).fetchWidgetSettings({
                                externalId: null !== (r = t.controllerConfig.config.externalId) && void 0 !== r ? r : ""
                            })];
                        case 1:
                            return l = u.sent().widgetSettings, c = new ct(s, t.controllerConfig.config.publicData.APP, l), p = o({
                                APP: c.getMergedTranslationsAsPublicData(e, n.shouldAddLanguageKeys),
                                COMPONENT: {}
                            }), "undefined" != typeof window && window.Wix && function(t) {
                                xt(t);
                                var e = t.scope,
                                    n = t.data,
                                    r = t.adapter || It.wixSdk(),
                                    o = t.cdnUrl;
                                return new yt({
                                    adapter: r,
                                    scope: e,
                                    data: n,
                                    cdnClient: new Ct({
                                        baseCdnUrl: o
                                    })
                                })
                            }({
                                scope: vt.COMPONENT,
                                cdnUrl: "https://settings.parastorage.com"
                            }).onChange((function(t) {
                                c.setWidgetSettings(t), i(a({}, o({
                                    APP: c.getMergedTranslationsAsPublicData(e, n.shouldAddLanguageKeys),
                                    COMPONENT: {}
                                })))
                            })), i(a({}, p)), [2]
                    }
                }))
            }))
        }
        var Tt = function(t, e) {
            void 0 === e && (e = {});
            var n = e.extraParams,
                r = s(e, ["extraParams"]);
            return function(e) {
                var o = function(t, e, n) {
                        try {
                            return n ? new t(e, n) : new t(e)
                        } catch (t) {
                            it(e)(t)
                        }
                    }(t, e, n),
                    i = a(a({}, r), o.getOptionsOverrides()),
                    s = i.shouldSkipMultilingual,
                    l = i.shouldCallAppSettingsOnlyWhenMultilingualIsNeeded,
                    u = s || l && function() {
                        var t, n = null === (t = null == e ? void 0 : e.appData) || void 0 === t ? void 0 : t.context.siteStore.getMultiLangFields();
                        return !e.controllerConfig.config.externalId || !n || (null == n ? void 0 : n.isPrimaryLanguage)
                    }();
                return {
                    pageReady: function() {
                        return Promise.resolve().then(function(t) {
                            return function() {
                                t.controllerConfig.setProps({
                                    isRTL: t.flowAPI.environment.isRTL
                                })
                            }
                        }(e)).then((function() {
                            return Promise.all(d(d([], p(u ? [] : [At(e, o.getFreeTexts())]), !1), [o.init()], !1))
                        })).then(function(t, e) {
                            return function() {
                                return t.controllerConfig.wixCodeApi.location.onChange(e), Promise.resolve()
                            }
                        }(e, (function() {
                            o.load()
                        }))).catch(it(e))
                    },
                    exports: function() {
                        return o.exports()
                    },
                    updateConfig: function(t, e) {
                        var n, r;
                        null === (n = o.onConfigUpdate) || void 0 === n || n.call(o, e), null === (r = o.onStyleUpdate) || void 0 === r || r.call(o, e.style.styleParams)
                    },
                    updateAppSettings: function(t, e) {
                        var n;
                        null === (n = o.onAppSettingsUpdate) || void 0 === n || n.call(o, e)
                    },
                    onBeforeUnLoad: function() {
                        var t;
                        return null === (t = o.onBeforeUnLoad) || void 0 === t ? void 0 : t.call(o)
                    }
                }
            }
        };
        const kt = (t => {
            return e = b, o = t, n = t => {
                var e;
                const n = null == t || null == (e = t.appData) ? void 0 : e.context.siteStore;
                let r;
                const i = async () => r || (t.controllerConfig.essentials.experiments.enabled(S) || await n.loadClientConfig(), r = new o(t), r);
                return {
                    async pageReady() {
                        try {
                            const e = await i();
                            await e.init(), t.controllerConfig.wixCodeApi.location.onChange((() => {
                                e.load()
                            }))
                        } catch (n) {
                            var e;
                            console.error(n), t.controllerConfig.setProps({
                                generalError: !0
                            }), null == (e = t.appData) || e.reportError(n)
                        }
                    },
                    exports: () => function(t) {
                        return ["addToCart", "addProductsToCart"].reduce(((e, n) => (e[n] = async function() {
                            return (await t()).exports()[n](...arguments)
                        }, e)), {})
                    }(i),
                    updateConfig: (t, e) => {
                        var n;
                        null == (n = r) || null == n.onStyleUpdate || n.onStyleUpdate(e.style.styleParams)
                    },
                    updateAppSettings: (t, e) => {
                        var n;
                        null == (n = r) || null == n.onAppSettingsUpdate || n.onAppSettingsUpdate(e)
                    },
                    onBeforeUnLoad() {
                        var t;
                        return null == (t = r) || null == t.onBeforeUnLoad ? void 0 : t.onBeforeUnLoad()
                    }
                }
            }, r = Tt(t, {
                shouldSkipMultilingual: !0
            }), t => t.controllerConfig.essentials.experiments.enabled(e) ? n(t) : r(t);
            var e, n, r, o
        })(class extends f {
            constructor(t) {
                var n;
                if (super(t), n = this, e()(this, "cartIconStore", void 0), e()(this, "controllerConfig", void 0), e()(this, "currentCartService", void 0), e()(this, "viewerContext", void 0), e()(this, "biService", void 0), e()(this, "load", (async () => {
                        await this.cartIconStore.init()
                    })), e()(this, "init", (async () => {
                        await this.load()
                    })), e()(this, "onStyleUpdate", (t => {
                        this.cartIconStore.updateStyleParams(t)
                    })), e()(this, "onAppSettingsUpdate", (t => {
                        t.scope === W.H.COMPONENT && "app-settings" === t.source ? this.cartIconStore.updateAppSettings(t.payload) : t.details && this.cartIconStore.updateAppSettings({
                            main: t.details
                        })
                    })), e()(this, "onBeforeUnLoad", (() => {
                        this.cartIconStore.unSubscribeAll()
                    })), e()(this, "exports", (() => ({
                        addToCart: async function(t, e, r) {
                            return void 0 === e && (e = 1), void 0 === r && (r = {}), await n.cartIconStore.executeWithFedops(P.ADD_TO_CART, (async () => (await n.flowAPI.controllerConfig.wixCodeApi.site.getPublicAPI(R)).cart.addToCart(t, e, r))), !0
                        },
                        addProductsToCart: async t => (await this.cartIconStore.executeWithFedops(P.ADD_ITEMS_TO_CART, (async () => (await this.flowAPI.controllerConfig.wixCodeApi.site.getPublicAPI(R)).cart.addProducts(t))), !0)
                    }))), this.flowAPI.fedops.interactionStarted(P.CART_ICON_LOADED), this.controllerConfig = t.controllerConfig, this.viewerContext = new Z(this.controllerConfig, this.controllerConfig.essentials.experiments.enabled(S) ? void 0 : this.siteStore), this.biService = new tt(this.viewerContext, this.controllerConfig, this.siteStore), this.setStoresAndCreateCartExports(t), this.viewerContext.isExperimentEnabled(m)) try {
                    this.biService.reportEcomTestBI()
                } catch {}
            }
            setStoresAndCreateCartExports(t) {
                var e;
                let {
                    controllerConfig: n,
                    flowAPI: r,
                    appData: o
                } = t;
                var i;
                (this.currentCartService = null == o ? void 0 : o.context.currentCartService, this.cartIconStore = new Y(this.siteStore, this.viewerContext, n.config, n.setProps, r.reportError, r.translations, r.fedops, r.panoramaClient, this.currentCartService, this.biService, this.viewerContext.isExperimentEnabled(S) ? this.controllerConfig.platformAPIs.storage.memory : this.siteStore.storage.memory, this.viewerContext.isExperimentEnabled(S) ? this.controllerConfig.platformAPIs.pubSub : this.siteStore.pubSub), this.viewerContext.isExperimentEnabled(S)) ? "Mobile" === this.viewerContext.getDeviceType() && null != (i = n.config.publicData) && null != (i = i.APP) && i.DONT_SHOW_SIDE_CART_ON_MOBILE && this.controllerConfig.platformAPIs.storage.memory.setItem("dontShowSideCartOnMobile", "true"): this.siteStore.isMobile() && null != (e = n.config.publicData) && null != (e = e.APP) && e.DONT_SHOW_SIDE_CART_ON_MOBILE && (this.siteStore.dontShowSideCartOnMobile = !0)
            }
            getFreeTexts() {
                return []
            }
        });
        var Lt = ["ar", "arc", "bcc", "bqi", "ckb", "dv", "fa", "glk", "ha", "he", "khw", "ks", "ku", "mzn", "pnb", "ps", "sd", "ug", "ur", "yi"];
        var _t, Dt, Rt, Mt, Nt = function(t) {
                return t
            },
            Ut = function(t) {
                var e = t.dsn,
                    n = t.environment,
                    r = t.release,
                    o = t.withDataCallback,
                    i = t.tags;
                return {
                    dsn: e,
                    config: {
                        enabled: !0,
                        release: r,
                        dataCallback: o ? Nt : void 0,
                        environment: n,
                        tags: i
                    }
                }
            },
            jt = function(t) {
                var e = {};
                for (var n in t) "function" == typeof t[n] && (e[n] = t[n].bind(t));
                return e
            },
            Ft = function(t, e) {
                for (var n = {}, r = function(e) {
                        var r = t[e];
                        "function" == typeof r && (n[e] = function() {
                            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                            return r.apply(t, e)
                        })
                    }, o = 0, i = e; o < i.length; o++) {
                    r(i[o])
                }
                return n
            },
            Bt = function(t) {
                return t.isEnabled && t.currentLanguage ? t.currentLanguage : void 0
            },
            Wt = function(t) {
                return void 0 === t && "undefined" != typeof window && (t = window.location.search), new URLSearchParams(t)
            },
            Gt = function(t) {
                return t && t.split("-")[0]
            },
            Ht = function(t, e, n) {
                var r = Bt(t.multilingual),
                    o = e.language;
                if (n) {
                    var i = Wt().get("regionalLanguage");
                    i && (o = i)
                }
                return r || o || "en"
            },
            Vt = function(t) {
                return "backend" === t.rendering.env
            },
            qt = function(t) {
                return t.isInSEO()
            },
            Kt = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            zt = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            },
            Yt = function() {
                throw new Error("Translations has not been initialized yet")
            },
            $t = function(t) {
                var e = t.language,
                    r = t.defaultTranslations,
                    o = t.prefix,
                    i = void 0 === o ? "messages" : o,
                    a = t.defaultLanguage,
                    s = t.availableLanguages,
                    l = t.localeDistPath,
                    u = t.initI18n,
                    c = t.basePath,
                    p = this;
                this.t = Yt, this.all = {}, this.init = function(t) {
                    var e = void 0 === t ? {} : t,
                        r = e.prepopulated,
                        o = e.wait,
                        i = void 0 !== o && o,
                        a = e.useSuspense,
                        s = void 0 !== a && a;
                    return Kt(p, void 0, void 0, (function() {
                        var t, e, o, a = this;
                        return zt(this, (function(l) {
                            switch (l.label) {
                                case 0:
                                    if (t = this.config, e = new Set(t.availableLanguages || []), !this._initI18n) throw new Error("Can't initialize i18n without initI18n method.");
                                    return this.i18n = this._initI18n({
                                        locale: t.language,
                                        useSuspense: s,
                                        wait: i,
                                        messages: r,
                                        disableAutoInit: !0,
                                        asyncMessagesLoader: function(r) {
                                            var o;
                                            return "en" === r ? Promise.resolve(t.defaultTranslations) : e.has(r) ? fetch("".concat(null !== (o = a.basePath) && void 0 !== o ? o : n.p).concat(a.localeDistPath, "/").concat(t.prefix, "_").concat(r, ".json")).then((function(e) {
                                                return e.ok ? e.json() : Promise.reject(new Error("Can't load locale: ".concat(t.language)))
                                            })) : Promise.reject(new Error("Locale assets for ".concat(r, " are not provided")))
                                        }
                                    }), [4, this.i18n.init()];
                                case 1:
                                    if (l.sent(), !(o = this.i18n.getResourceBundle(t.language, "translation")) && e.has(t.language)) throw new Error("Unexpected missing translations for language ".concat(t.language));
                                    return this.all = o || t.defaultTranslations || {}, this.t = function(t, e) {
                                        return a.i18n.t(t, e)
                                    }, [2, this]
                            }
                        }))
                    }))
                }, this.config = {
                    availableLanguages: s,
                    language: Gt(e),
                    defaultTranslations: r,
                    prefix: i,
                    defaultLanguage: a
                }, this.localeDistPath = l, this._initI18n = u, this.i18n = null, this.basePath = c
            },
            Jt = function(t) {
                var e;
                this.entry = "viewerScript";
                var n, r = t.seoAPI,
                    o = t.windowAPI,
                    i = t.siteAPI,
                    a = t.appData;
                this.isSSR = "backend" === o.rendering.env, this.isSEO = qt(r), this.isMobile = "Mobile" === o.formFactor, this.isEditor = "Editor" === o.viewMode, this.isPreview = "Preview" === o.viewMode, this.isViewer = "Site" === o.viewMode, this.isBlocksPreview = Boolean(null === (e = null == a ? void 0 : a.appData) || void 0 === e ? void 0 : e.blocksPreviewData), this.language = Ht(o, i, this.isEditor), this.isRTL = (n = this.language, Lt.includes(Gt(n))), this.multilingual = o.multilingual, this.appDefinitionId = a.appDefinitionId
            },
            Qt = function() {
                return Qt = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, Qt.apply(this, arguments)
            },
            Xt = function(t, e) {
                var n = {};
                return t.visitorId ? n.forSiteVisitors = Qt(Qt({}, t), {
                    visitorId: t.visitorId
                }) : n.forSiteOwner = Qt(Qt({}, t), {
                    loggedInUserId: t.loggedInUserId
                }), e && (n.overrideCriteria = e), n
            },
            Zt = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            te = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            };
        ! function(t) {
            t.SuccessRate = "SuccessRate", t.SuccessRateQuality = "SuccessRateQuality", t.Duration = "Duration", t.ErrorRate = "ErrorRate"
        }(_t || (_t = {})),
        function(t) {
            t.Alerting = "alerting", t.Ok = "ok"
        }(Dt || (Dt = {})),
        function(t) {
            t.Info = "INFO", t.Warn = "WARN", t.Error = "ERROR", t.Debug = "DEBUG"
        }(Rt || (Rt = {})),
        function(t) {
            t.Start = "START", t.Finish = "FINISH"
        }(Mt || (Mt = {}));
        var ee, ne;
        ! function(t) {
            t.Standalone = "standalone", t.BusinessManager = "business-manager", t.Viewer = "viewer", t.Editor = "editor", t.EditorSettings = "editor:settings", t.Mobile = "mobile", t.Standards = "standards"
        }(ee || (ee = {})),
        function(t) {
            t.Fatal = "fatal", t.Error = "error", t.Warning = "warning", t.Log = "log", t.Info = "info", t.Debug = "debug", t.Critical = "critical"
        }(ne || (ne = {}));
        var re = function(t, e) {
            var n = e.componentId,
                r = e.sentryConfig,
                o = e.sentryEnvironment;
            return t.createPanoramaClient({
                fullArtifactId: "com.wixpress.ecom-platform-cart-icon",
                artifactVersion: "4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696",
                componentId: n,
                sentryDsn: null == r ? void 0 : r.DSN,
                sentryEnvironment: o
            })
        };
        var oe, ie = function() {
                function t(t) {
                    var e = t.httpClient;
                    this.reportError = function(t) {
                        console.warn("You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson", "Error: ", t)
                    }, this._httpClient = e
                }
                return Object.defineProperty(t.prototype, "httpClient", {
                    get: function() {
                        var t = this._httpClient;
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }(),
            ae = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            se = function() {
                return se = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, se.apply(this, arguments)
            },
            le = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            ue = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            },
            ce = function(t) {
                function e(e) {
                    var n, r, o, i, a = e.experimentsConfig,
                        s = e.essentials,
                        l = e.platformBI,
                        u = e.biLoggerFactory,
                        c = e.monitoring,
                        p = e.sentryConfig,
                        d = e.windowAPI,
                        f = e.seoAPI,
                        g = e.siteAPI,
                        h = e.userAPI,
                        v = e.appData,
                        m = e.translationsConfig,
                        y = e.defaultTranslations,
                        b = void 0 === y ? null : y,
                        S = e.biLogger,
                        w = e.projectName,
                        P = e.appName,
                        C = e.prepopulatedData,
                        I = e.optionalDeps,
                        x = I.createHttpClient,
                        O = I.initI18n,
                        E = I.createExperiments,
                        A = I.createErrorHandler,
                        T = e.localeDistPath,
                        k = e.shouldUseEssentials,
                        L = e.basePath,
                        _ = this;
                    _ = t.call(this, {
                        httpClient: k ? null == s ? void 0 : s.httpClient : null == x ? void 0 : x({
                            isSSR: Vt(d),
                            getAppToken: function() {
                                var t, e;
                                return null !== (e = null === (t = g.getAppToken) || void 0 === t ? void 0 : t.call(g, v.appDefinitionId)) && void 0 !== e ? e : v.instance
                            }
                        })
                    }) || this, _.essentials = s, _.windowAPI = d, _.siteAPI = g, _.seoAPI = f, _.userAPI = h, _.appName = P, _.projectName = w, _.prepopulatedData = C, _.basePath = L, _.environment = new Jt({
                        appData: v,
                        windowAPI: d,
                        seoAPI: f,
                        siteAPI: g
                    });
                    var D = Ht(d, g, _.environment.isEditor);
                    if (s && (s.errorHandler ? _._errorHandler = s.errorHandler : O && A && (_._errorHandler = A({
                            biLoggerOrFactory: s.biLoggerFactory,
                            initI18n: O,
                            language: D,
                            appDefId: v.appDefinitionId,
                            createErrorMonitor: s.createErrorMonitor
                        })), "function" == typeof s.createPanoramaClient && (_.panoramaClient = re(s, {
                            platform: ee.Viewer,
                            componentId: "viewer-script",
                            sentryConfig: p,
                            sentryEnvironment: "Viewer:Worker"
                        }).createClientForComponent())), _._errorHandler && (null === (r = null === (n = _._httpClient) || void 0 === n ? void 0 : n.setErrorHandler) || void 0 === r || r.call(n, _._errorHandler)), _.localeDistPath = T, _.getCurrencyFormatter = null, _.formatCurrency = null, _.formatAddress = null, _.essentials && "formatAddress" in _.essentials && (_.formatAddress = _.essentials.formatAddress), _.essentials && "createCurrencyFormatterWithDefaults" in _.essentials && (_.getCurrencyFormatter = _.essentials.createCurrencyFormatterWithDefaults({
                            language: D
                        }), _.getCurrencyFormatter && (_.formatCurrency = _.getCurrencyFormatter())), _.translations = !1 === (null == m ? void 0 : m.enabled) ? null : new $t({
                            language: D,
                            defaultTranslations: b,
                            prefix: null == m ? void 0 : m.prefix,
                            availableLanguages: null == m ? void 0 : m.availableLanguages,
                            localeDistPath: T,
                            initI18n: O
                        }), _.experiments = null, _._experimentsPromise = null, a) {
                        var R = _.environment.isViewer ? {
                                siteOwnerId: null == l ? void 0 : l.ownerId,
                                visitorId: null == l ? void 0 : l.visitorId
                            } : {
                                siteOwnerId: null == l ? void 0 : l.ownerId,
                                loggedInUserId: h.currentUser.id
                            },
                            M = (null == l ? void 0 : l.metaSiteId) ? {
                                entityId: null == l ? void 0 : l.metaSiteId
                            } : void 0;
                        if (k) _._experimentsPromise = a.centralized && !(null == C ? void 0 : C.experiments) ? Promise.resolve(_.essentials.experiments) : function(t, e, n, r, o, i) {
                            return Zt(void 0, void 0, void 0, (function() {
                                var a, s;
                                return te(this, (function(l) {
                                    switch (l.label) {
                                        case 0:
                                            return a = t({
                                                useNewApi: !0,
                                                requestContext: Xt(r, o),
                                                baseUrl: i
                                            }), n ? (a.add(n), [2, a]) : e ? (s = e.scopes.map((function(t) {
                                                return a.load(t)
                                            })), [4, Promise.all(s)]) : [2, a];
                                        case 1:
                                            return l.sent(), [2, a]
                                    }
                                }))
                            }))
                        }(_.essentials.createExperiments, a, null == C ? void 0 : C.experiments, R, M, _.environment.isSSR ? "https://wix.com" : void 0);
                        else {
                            var N = E({
                                prepopulated: null == C ? void 0 : C.experiments,
                                experimentsConfig: a,
                                baseUrl: _.environment.isSSR ? "https://wix.com" : void 0,
                                ctx: R,
                                overrideCriteria: M
                            });
                            _._experimentsPromise = N.init()
                        }
                    }
                    if (null == C ? void 0 : C.biLogger) _.bi = null == C ? void 0 : C.biLogger;
                    else if (S) {
                        var U = void 0;
                        k ? U = _.essentials.biLoggerFactory() : u && (U = u()), U && (_.bi = S(U)({}))
                    }
                    if (_.sentry = null, _.errorMonitor = null, null == C ? void 0 : C.sentryMonitor) _.sentry = null == C ? void 0 : C.sentryMonitor;
                    else if (null == C ? void 0 : C.errorMonitor) _.errorMonitor = null == C ? void 0 : C.errorMonitor;
                    else if (p)
                        if (p.errorMonitor && (null == s ? void 0 : s.createErrorMonitor)) _.errorMonitor = s.createErrorMonitor({
                            dsn: p.DSN,
                            environment: "Viewer:Worker",
                            appName: null !== (o = _.appName) && void 0 !== o ? o : "ecom-platform-cart-icon",
                            version: "4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696",
                            fullArtifactId: "com.wixpress.ecom-platform-cart-icon",
                            componentId: "viewer-script",
                            tags: {
                                isSSR: Vt(d),
                                isSEO: qt(f)
                            }
                        });
                        else {
                            var j = Ut({
                                dsn: p.DSN,
                                environment: "Viewer:Worker",
                                release: "".concat(null !== (i = _.appName) && void 0 !== i ? i : "ecom-platform-cart-icon", "@").concat("4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696"),
                                withDataCallback: !0,
                                tags: {
                                    isSSR: Vt(d),
                                    isSEO: qt(f)
                                }
                            });
                            _.sentry = null == c ? void 0 : c.createMonitor(j.dsn, (function(t) {
                                return se(se({}, t), j.config)
                            }))
                        }
                    return _.sentry && (_.reportError = function(t) {
                        return "string" == typeof t ? _.sentry.captureMessage(t) : _.sentry.captureException(t), _.sentry.lastEventId()
                    }), _.errorMonitor && (_.reportError = function(t) {
                        return "string" == typeof t ? _.errorMonitor.captureMessage(t) : _.errorMonitor.captureException(t)
                    }), _
                }
                return ae(e, t), e.prototype.init = function() {
                    var t, e;
                    return le(this, void 0, void 0, (function() {
                        var n;
                        return ue(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return n = this, [4, this._experimentsPromise];
                                case 1:
                                    return n.experiments = r.sent(), [4, null === (t = this.translations) || void 0 === t ? void 0 : t.init({
                                        prepopulated: null === (e = this.prepopulatedData) || void 0 === e ? void 0 : e.translations
                                    })];
                                case 2:
                                    return r.sent(), [2]
                            }
                        }))
                    }))
                }, Object.defineProperty(e.prototype, "errorHandler", {
                    get: function() {
                        var t;
                        return null !== (t = this._errorHandler) && void 0 !== t ? t : {
                            withErrorHandler: function(t) {
                                return t()
                            },
                            getResolvedError: function() {
                                return {
                                    message: ""
                                }
                            },
                            showError: function() {},
                            reportRetryAttempt: function() {}
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.createTranslations = function(t, e, n) {
                    var r, o = t.translationsConfig,
                        i = t.defaultTranslations,
                        a = t.localeDistPath;
                    if (!1 === (null == o ? void 0 : o.enabled)) return null;
                    if (a === this.localeDistPath && (null == n ? void 0 : n.basePath) === this.basePath) return this.translations;
                    var s = Ht(this.windowAPI, this.siteAPI, this.environment.isEditor);
                    return new $t({
                        language: s,
                        defaultTranslations: i,
                        availableLanguages: null == o ? void 0 : o.availableLanguages,
                        prefix: null == o ? void 0 : o.prefix,
                        localeDistPath: a,
                        initI18n: null == e ? void 0 : e.initI18n,
                        basePath: null !== (r = null == n ? void 0 : n.basePath) && void 0 !== r ? r : this.basePath
                    })
                }, e
            }(ie),
            pe = function(t, e) {
                return t.localeCompare(e)
            };
        ! function(t) {
            t.Number = "Number", t.Boolean = "Boolean", t.String = "String", t.Text = "Text", t.Object = "Object"
        }(oe || (oe = {}));
        var de = function(t, e) {
                var n = e.isMobile,
                    r = e.language,
                    o = void 0 === r ? "en" : r;
                return "function" == typeof t.dangerousKeyTransformationOverride ? t.dangerousKeyTransformationOverride(t.key, {
                    isMobile: n,
                    language: o
                }) : function(t, e, n) {
                    if ("string" != typeof t) throw new Error("`generateKey` expects key to be passed and be a string");
                    if (!e) throw new Error("`generateKey` expects options to be passed");
                    return Object.keys(n).sort(pe).reduce((function(t, r) {
                        var o = n[r] === e[r],
                            i = !e[r] && !n[r];
                        return o || i ? t : t + "\u25b6\ufe0e" + ("boolean" != typeof e[r] || n[r] ? r + ":" + e[r] : r)
                    }), t)
                }(t.key, {
                    m: n,
                    l: o
                }, {
                    m: !1,
                    l: "en"
                })
            },
            fe = new function() {
                var t, e = this;
                this.handlers = ((t = {})[oe.Object] = {
                    serialize: function(t) {
                        return "string" == typeof t ? (console.error("\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."), t) : JSON.stringify(t)
                    },
                    deserialize: function(t) {
                        return "string" != typeof t ? t : JSON.parse(t)
                    }
                }, t), this.serialize = function(t, n) {
                    return t.type === oe.Object ? e.handlers[oe.Object].serialize(n) : n
                }, this.deserialize = function(t, n) {
                    return t.type === oe.Object ? e.handlers[oe.Object].deserialize(n) : n
                }
            };

        function ge(t, e, n) {
            void 0 === n && (n = {});
            var r, o = function(t) {
                    return t.type === oe.Text
                }(e),
                i = function(t, e) {
                    return {
                        languageAndMobile: de(t, {
                            isMobile: e.isMobile,
                            language: e.language
                        }),
                        language: de(t, {
                            isMobile: !1,
                            language: e.language
                        }),
                        mobile: de(t, {
                            isMobile: e.isMobile
                        }),
                        original: t.key
                    }
                }(e, {
                    isMobile: n.isMobile,
                    language: o ? n.language : void 0
                }),
                a = function(t) {
                    return void 0 === t.inheritDesktop || t.inheritDesktop
                }(e);
            return o ? void 0 !== t[i.languageAndMobile] ? r = t[i.languageAndMobile] : a && void 0 !== t[i.language] && (r = t[i.language]) : void 0 !== t[i.mobile] ? r = t[i.mobile] : a && void 0 !== t[i.original] && (r = t[i.original]), fe.deserialize(e, r)
        }
        var he = !1;

        function ve(t, e, n, r) {
            void 0 === n && (n = {});
            var o = s(n, []);
            void 0 === r && (r = "COMPONENT");
            var i = t;
            t.COMPONENT || (he || (console.warn("`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."), he = !0), i = {
                COMPONENT: t,
                APP: {}
            });
            var l = "COMPONENT" === r && e.inheritFromAppScope,
                u = ge(i[r], e, o);
            return void 0 === u && l && (u = ge(i.APP, e, o)), e.getDefaultValue && void 0 === u ? function(t, e, n, r) {
                var o, i;
                void 0 === r && (r = {});
                var s = null !== (o = r.t) && void 0 !== o ? o : function(t) {
                    var e = t.environmentLabel;
                    return function(t) {
                        throw new Error("It is not possible to translate ".concat(t, ". Translate function was not passed to the ").concat(e))
                    }
                }({
                    environmentLabel: null !== (i = r.environmentLabel) && void 0 !== i ? i : "`getSettingsValue` function"
                });
                return n.getDefaultValue({
                    isMobile: r.isMobile,
                    isRTL: r.isRTL,
                    isEditorX: r.isEditorX,
                    t: s,
                    presetId: r.presetId,
                    experiments: r.experiments,
                    getSettingParamValue: function(n, o) {
                        return void 0 === o && (o = {}), ve(t, n, a(a(a({}, r), o), {
                            t: s
                        }), e)
                    }
                })
            }(i, r, e, o) : u
        }
        var me = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            ye = function(t) {
                function e(e) {
                    var n, r = this;
                    (r = t.call(this, e) || this).entry = "viewerScript";
                    var o, i = e.config,
                        a = e.widgetId,
                        s = e.locationAPI.query;
                    return r.isEditorX = function(t) {
                        var e;
                        return null !== (e = null == t ? void 0 : t.booleans.responsive) && void 0 !== e && e
                    }(null === (n = null == i ? void 0 : i.style) || void 0 === n ? void 0 : n.styleParams), r.isADI = (void 0 === (o = s) && (o = {}), "onboarding" === o.dsOrigin), r.isClassicEditor = function(t) {
                        return void 0 === t && (t = {}), "Editor1.4" === t.dsOrigin
                    }(s), r.widgetId = a, r
                }
                return me(e, t), e
            }(Jt),
            be = function(t, e) {
                return {
                    name: t.name,
                    message: t.message,
                    stack: t.stack,
                    errorId: e
                }
            },
            Se = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            we = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            };

        function Pe(t, e) {
            return Se(this, void 0, void 0, (function() {
                return we(this, (function(n) {
                    switch (n.label) {
                        case 0:
                            return [4, this.controllerConfig.platformAPIs.platformApiProvider.getPlatformApi("window")];
                        case 1:
                            return n.sent().openModal("".concat((r = this.componentName || "", o = t, i = this.controllerConfig.appParams.instance, a = "".concat(r, "/").concat(o), "https://editor.wixapps.net/render/prod/modals/".concat("ecom-platform-cart-icon", "/").concat("4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696", "/").concat(a, "?instance=").concat(i))), e), [2]
                    }
                    var r, o, i, a
                }))
            }))
        }
        var Ce = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            Ie = function() {
                return Ie = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, Ie.apply(this, arguments)
            },
            xe = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            Oe = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            },
            Ee = function(t, e, n) {
                if (n || 2 === arguments.length)
                    for (var r, o = 0, i = e.length; o < i; o++) !r && o in e || (r || (r = Array.prototype.slice.call(e, 0, o)), r[o] = e[o]);
                return t.concat(r || Array.prototype.slice.call(e))
            },
            Ae = function(t) {
                function e(e) {
                    var n, r, o, i, a, s, l, u = e.viewerScriptFlowAPI,
                        c = e.controllerConfig,
                        p = e.appDefinitionId,
                        d = e.widgetId,
                        f = e.componentId,
                        g = e.componentName,
                        h = e.biLogger,
                        v = e.prepopulatedData,
                        m = e.translations,
                        y = e.fedopsConfig,
                        b = e.sentryConfig,
                        S = e.shouldUseEssentials,
                        w = e.multilingualDisabled,
                        P = e.panoramaClient,
                        C = e.locationAPI,
                        I = e.windowAPI,
                        x = e.siteAPI,
                        O = e.seoAPI,
                        E = this;
                    (E = t.call(this, {
                        httpClient: c.essentials.httpClient
                    }) || this).appLoadStarted = function() {
                        if (null !== E.fedops) {
                            var t = E.fedops.appLoadStarted;
                            t.call(E.fedops), E.fedops.appLoadStarted = function() {
                                for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                                console.warn("\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."), t.call.apply(t, Ee([E.fedops], e, !1))
                            }
                        }
                    }, E.essentials = c.essentials, E.controllerConfig = c, E.errorHandler = null !== (n = E.essentials.errorHandler) && void 0 !== n ? n : u.errorHandler, E.experiments = u.experiments, E.bi = u.bi, E.prepopulatedData = v, E.componentName = g;
                    var A = c.platformAPIs;
                    if (E.panoramaClient = P.createClientForComponent(), E.getCurrencyFormatter = u.getCurrencyFormatter, E.formatCurrency = null === (r = E.getCurrencyFormatter) || void 0 === r ? void 0 : r.call(E), E.formatAddress = u.formatAddress, E.environment = new ye({
                            locationAPI: C,
                            windowAPI: I,
                            siteAPI: x,
                            seoAPI: O,
                            appData: c.appParams,
                            config: c.config,
                            widgetId: d
                        }), !u.bi && h)
                        if (S) {
                            var T = E.essentials.biLoggerFactory();
                            E.bi = h(T)({})
                        } else(null === (o = c.platformAPIs) || void 0 === o ? void 0 : o.biLoggerFactory) && (E.bi = h(null === (i = c.platformAPIs) || void 0 === i ? void 0 : i.biLoggerFactory())({}));
                    if (E.sentry = null, E.errorMonitor = null, (null == v ? void 0 : v.sentryMonitor) || (null == v ? void 0 : v.errorMonitor)) E.sentry = null !== (a = null == v ? void 0 : v.sentryMonitor) && void 0 !== a ? a : null, E.errorMonitor = null !== (s = null == v ? void 0 : v.errorMonitor) && void 0 !== s ? s : null;
                    else if (b)
                        if (b.errorMonitor && E.essentials.createErrorMonitor) E.errorMonitor = E.essentials.createErrorMonitor({
                            dsn: b.DSN,
                            environment: "Viewer:Worker",
                            appName: "ecom-platform-cart-icon",
                            version: "4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696",
                            fullArtifactId: "com.wixpress.ecom-platform-cart-icon",
                            componentId: f,
                            tags: {
                                componentId: f,
                                componentName: g,
                                isSSR: Vt(I),
                                isSEO: qt(O)
                            }
                        });
                        else {
                            var k = Ut({
                                dsn: b.DSN,
                                environment: "Viewer:Worker",
                                release: "".concat("ecom-platform-cart-icon", "@").concat("4708b7e5ec1b0b762a0d317ea22b1fa9ea579177c87125a10f224696"),
                                withDataCallback: !0,
                                tags: {
                                    componentId: f,
                                    componentName: g,
                                    isSSR: Vt(I),
                                    isSEO: qt(O)
                                }
                            });
                            E.sentry = null === (l = A.monitoring) || void 0 === l ? void 0 : l.createMonitor(k.dsn, (function(t) {
                                return Ie(Ie({}, t), k.config)
                            }))
                        }
                    return E.sentry && (E.reportError = function(t) {
                        return "string" == typeof t ? E.sentry.captureMessage(t) : E.sentry.captureException(t), E.sentry.lastEventId()
                    }), E.errorMonitor && (E.reportError = function(t) {
                        return "string" == typeof t ? E.errorMonitor.captureMessage(t) : E.errorMonitor.captureException(t)
                    }), E.fedops = null, !1 !== (null == y ? void 0 : y.enabled) && ((null == v ? void 0 : v.fedopsLogger) ? E.fedops = null == v ? void 0 : v.fedopsLogger : E.fedops = S ? E.essentials.fedopsLogger : A.fedOpsLoggerFactory.getLoggerForWidget({
                        appId: p,
                        widgetId: d,
                        paramsOverrides: {
                            corrId: E.controllerConfig.compId
                        }
                    }), E.environment.isSSR && E.appLoadStarted(), E.fedops.interactionStarted("controller-load")), E.environment.isSSR && (null == P || P.reportLoadStart()), E.translations = m, E.viewerScriptFlowAPI = u, E.settings = {
                        get: function(t) {
                            var e, n, r;
                            return ve(null !== (n = null === (e = E.controllerConfig.config) || void 0 === e ? void 0 : e.publicData) && void 0 !== n ? n : {}, t, {
                                t: null === (r = E.translations) || void 0 === r ? void 0 : r.t,
                                experiments: E.experiments,
                                isMobile: E.environment.isMobile,
                                language: w ? void 0 : Bt(E.environment.multilingual)
                            })
                        }
                    }, E.openModal = Pe, E
                }
                return Ce(e, t), e.prototype.init = function() {
                    var t, e;
                    return xe(this, void 0, void 0, (function() {
                        return Oe(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return null !== (null === (t = this.translations) || void 0 === t ? void 0 : t.i18n) ? [3, 2] : [4, this.translations.init({
                                        prepopulated: null === (e = this.prepopulatedData) || void 0 === e ? void 0 : e.translations,
                                        useSuspense: this.environment.isEditor || this.environment.isADI
                                    })];
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return null !== this.fedops && this.fedops.interactionEnded("controller-load"), [2]
                            }
                        }))
                    }))
                }, e.prototype.updateControllerConfig = function(t) {
                    this.controllerConfig.config = t
                }, e.prototype.handleError = function(t) {
                    var e;
                    this.sentry && (this.reportError(t), e = this.sentry.lastEventId()), this.errorMonitor && (e = this.reportError(t)), this.controllerConfig.setProps({
                        _workerError: be(t, e)
                    })
                }, e.prototype.withErrorBoundary = function(t) {
                    var e = this;
                    return function() {
                        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                        try {
                            t.apply(void 0, n)
                        } catch (t) {
                            t instanceof Error && e.handleError(t)
                        }
                    }
                }, e
            }(ie),
            Te = function() {
                return Te = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, Te.apply(this, arguments)
            },
            ke = function() {
                return ke = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, ke.apply(this, arguments)
            },
            Le = {
                language: "_language",
                translations: "_translations",
                multilingual: "_multilingual",
                experiments: "_experiments",
                biMethods: "_biMethods",
                openModal: "__openModal__",
                biUtil: "_biUtil",
                mobile: "_mobile",
                isRTL: "_isRTL",
                isSSR: "_isSSR",
                isSEO: "_isSEO",
                appDefinitionId: "_appDefinitionId",
                widgetId: "_widgetId",
                fedopsLogger: "_fedopsLogger",
                sentry: "_sentry",
                errorMonitor: "_errorMonitor",
                publicData: "_publicData",
                styles: "__styles",
                enabledHOCs: "_enabledHOCs",
                onAppLoaded: "_onAppLoaded",
                onAppLoadStarted: "_onAppLoadStarted",
                error: "_workerError",
                errorMonitorWithOptions: "__errorMonitorWithOptions",
                logger: "__logger",
                transactionWithAction: "__transactionWithAction",
                shouldReportAppLoadStarted: "shouldReportAppLoadStarted"
            },
            _e = function() {
                function t() {
                    this.store = {}
                }
                return t.prototype.init = function() {}, t.prototype.getProps = function() {
                    return this.store
                }, t.prototype.getProp = function(t) {
                    var e = this.getPrivateKey(t);
                    return this.store[e]
                }, t.prototype.spreadProp = function(t) {
                    var e, n = this.getPrivateKey(t);
                    return (e = {})[n] = this.store[n], e
                }, t.prototype.getPrivateKey = function(e) {
                    return t.PropsMap[e]
                }, t.prototype.getFromExternalStore = function(t, e) {
                    return e[this.getPrivateKey(t)]
                }, t.prototype.setProp = function(t, e) {
                    var n = this.getPrivateKey(t);
                    this.store[n] = e
                }, t.prototype.isHOCEnabled = function(t) {
                    return this.getProp("enabledHOCs")[t]
                }, t.prototype.isFlowPropsReceived = function() {
                    return !!this.getProp("enabledHOCs")
                }, t.PropsMap = Le, t
            }(),
            De = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            Re = function(t, e) {
                var n = {};
                for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                    var o = 0;
                    for (r = Object.getOwnPropertySymbols(t); o < r.length; o++) e.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (n[r[o]] = t[r[o]])
                }
                return n
            },
            Me = function(t) {
                function e(e) {
                    var n = this,
                        r = e.flowAPI,
                        o = e.panoramaClient,
                        i = Re(e, ["flowAPI", "panoramaClient"]);
                    return (n = t.call(this) || this).setPublicData = function(t) {
                        n.setProp("publicData", function(t) {
                            var e = null != t ? t : {};
                            return e.APP || (e.APP = {}), e.COMPONENT || (e.COMPONENT = {}), e
                        }(t))
                    }, n.flowAPI = r, n.panoramaClient = o, n.initControllerProps(i), n
                }
                return De(e, t), e.prototype.initControllerProps = function(t) {
                    var e, n, r, o, i, a = t.translationsConfig,
                        s = t.experimentsConfig,
                        l = t.appLoadingService,
                        u = this.flowAPI;
                    this.setProp("translations", null !== (n = null === (e = u.translations) || void 0 === e ? void 0 : e.all) && void 0 !== n ? n : {}), this.setProp("openModal", u.openModal.bind(u)), this.setProp("multilingual", (i = u.environment.multilingual) ? {
                        currentLanguage: i.currentLanguage,
                        isEnabled: i.isEnabled,
                        siteLanguages: i.siteLanguages
                    } : null), this.setProp("experiments", null !== (o = null === (r = u.experiments) || void 0 === r ? void 0 : r.all()) && void 0 !== o ? o : {});
                    var c, p, d, f = function(t) {
                            return {
                                biMethods: t ? ke(ke({}, jt(t)), Ft(t, ["report"])) : {},
                                biUtil: t && t.util ? jt(t.util) : {}
                            }
                        }(u.bi),
                        g = f.biMethods,
                        h = f.biUtil;
                    if (this.setProp("biMethods", g), this.setProp("biUtil", h), this.setProp("language", u.environment.language), this.setProp("isRTL", u.environment.isRTL), this.setProp("isSSR", u.environment.isSSR), this.setProp("isSEO", u.environment.isSEO), this.setProp("mobile", u.environment.isMobile), this.setProp("appDefinitionId", u.environment.appDefinitionId), this.setProp("widgetId", u.environment.widgetId), this.setProp("fedopsLogger", null != u.fedops ? (c = u.fedops, Ft(c, ["interactionEnded", "interactionStarted"])) : null), u.panoramaClient) {
                        var v = function(t) {
                                var e = t.logger();
                                return {
                                    errorMonitorWithOptions: function(e, n) {
                                        for (var r = [], o = 2; o < arguments.length; o++) r[o - 2] = arguments[o];
                                        var i = t.errorMonitor(Te(Te({}, e), {
                                            data: Te({
                                                environment: "Viewer"
                                            }, null == e ? void 0 : e.data)
                                        }));
                                        i[n].apply(i, r)
                                    },
                                    logger: {
                                        debug: e.debug.bind(e),
                                        info: e.info.bind(e),
                                        error: e.error.bind(e),
                                        warn: e.warn.bind(e)
                                    },
                                    transactionWithAction: function(e, n, r) {
                                        return t.transaction(e)[n](r)
                                    }
                                }
                            }(u.panoramaClient),
                            m = v.transactionWithAction,
                            y = v.errorMonitorWithOptions,
                            b = v.logger;
                        this.setProp("transactionWithAction", m), this.setProp("errorMonitorWithOptions", y), this.setProp("logger", b)
                    }
                    this.setProp("sentry", null != u.sentry ? (p = u.sentry, {
                        captureException: function(t) {
                            p.captureException(t)
                        },
                        captureMessage: function(t) {
                            p.captureMessage(t)
                        }
                    }) : null), this.setProp("errorMonitor", null != u.errorMonitor ? (d = u.errorMonitor, {
                        captureException: function(t, e) {
                            return d.captureException(t, e)
                        },
                        captureMessage: function(t, e) {
                            return d.captureMessage(t, e)
                        },
                        addBreadcrumb: function(t) {
                            d.addBreadcrumb(t)
                        }
                    }) : null), this.setPublicData(u.controllerConfig.config.publicData), this.setProp("enabledHOCs", {
                        translations: !1 !== (null == a ? void 0 : a.enabled),
                        experiments: !!s,
                        bi: !!u.bi,
                        sentry: !!u.sentry,
                        errorMonitor: !!u.errorMonitor,
                        fedops: !!u.fedops,
                        panoramaClient: !!u.panoramaClient
                    }), this.setProp("onAppLoaded", l.onAppLoaded), u.environment.isSSR || (this.setProp("onAppLoadStarted", l.onAppLoadStarted), this.setProp("shouldReportAppLoadStarted", !0)), this.setProp("error", null)
                }, e.prototype.setErrorProp = function(t, e) {
                    this.setProp("error", t ? be(t, e) : null)
                }, e.prototype.passWidgetProp = function(t) {
                    this.flowAPI.controllerConfig.setProps(this.spreadProp(t))
                }, e.prototype.passWidgetErrorProp = function(t, e) {
                    this.setErrorProp(t, e), this.flowAPI.controllerConfig.setProps(this.spreadProp("error"))
                }, e.prototype.passWidgetInitialProps = function() {
                    this.flowAPI.controllerConfig.setProps(this.getProps())
                }, e
            }(_e),
            Ne = function(t) {
                var e = t.flowAPI,
                    n = t.panoramaClient,
                    r = this;
                this.isCSRLoadStartReported = !1, this.isCSRLoadFinishReported = !1, this.onAppLoaded = function() {
                    var t, e;
                    r.isCSRLoadFinishReported || (null === (t = r.flowAPI.fedops) || void 0 === t || t.appLoaded(), null === (e = r.panoramaClient) || void 0 === e || e.reportLoadFinish(), r.isCSRLoadFinishReported = !0)
                }, this.onAppLoadStarted = function() {
                    var t;
                    r.isCSRLoadStartReported || (null === (t = r.panoramaClient) || void 0 === t || t.reportLoadStart(), r.isCSRLoadStartReported = !0), r.isCSRLoadFinishReported || r.flowAPI.appLoadStarted()
                }, this.flowAPI = e, this.panoramaClient = n
            },
            Ue = function() {
                return Ue = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, Ue.apply(this, arguments)
            },
            je = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            Fe = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            },
            Be = function(t) {
                var e = t.controller,
                    n = t.experimentsConfig,
                    r = t.translationsConfig,
                    o = t.flowAPI,
                    i = t.appName,
                    a = t.componentName,
                    s = t.withErrorBoundary,
                    l = t.panoramaClient,
                    u = t._controllerError,
                    c = t._controllerErrorId,
                    p = new Ne({
                        flowAPI: o,
                        panoramaClient: l
                    }),
                    d = new Me({
                        flowAPI: o,
                        panoramaClient: l,
                        appLoadingService: p,
                        experimentsConfig: n,
                        translationsConfig: r
                    });
                return Ue(Ue({}, e), {
                    updateConfig: function(t, n) {
                        o.updateControllerConfig(n), d.setPublicData(n.publicData), d.passWidgetProp("publicData"), (null == e ? void 0 : e.updateConfig) && e.updateConfig(t, n)
                    },
                    pageReady: function() {
                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        return je(void 0, void 0, void 0, (function() {
                            var n, r, p, f;
                            return Fe(this, (function(g) {
                                switch (g.label) {
                                    case 0:
                                        if (null === (p = null === (r = o.sentry) || void 0 === r ? void 0 : r.setTagsContext) || void 0 === p || p.call(r, {
                                                isSSR: o.environment.isSSR,
                                                isSEO: o.environment.isSEO
                                            }), d.passWidgetInitialProps(), u) throw d.passWidgetErrorProp(u, c), u;
                                        return (null == e ? void 0 : e.pageReady) ? [4, Ge((function() {
                                            return e.pageReady.apply(e, t)
                                        }), o, i, a)] : [3, 2];
                                    case 1:
                                        if (n = g.sent(), (null == (h = n) ? void 0 : h._error) && (d.passWidgetErrorProp(n._error, n._errorId), !o.environment.isEditor || !s)) throw n._error;
                                        g.label = 2;
                                    case 2:
                                        return o.environment.isSSR && (null === (f = o.fedops) || void 0 === f || f.appLoaded(), null == l || l.reportLoadFinish()), [2, n]
                                }
                                var h
                            }))
                        }))
                    }
                })
            },
            We = function(t, e, n, r, o) {
                var i, a, s;
                if (!e.environment.isEditor) {
                    if (console.error('\u2757\ufe0fError \u{1f449} "'.concat(n, '" app \u{1f449} ').concat(r, " controller \u{1f449} ").concat(o ? "".concat(o, " method") : "", " \u2757\n"), t), e.sentry) return null === (i = e.sentry) || void 0 === i || i.captureException(t), null === (s = null === (a = e.sentry) || void 0 === a ? void 0 : a.lastEventId) || void 0 === s ? void 0 : s.call(a);
                    if (e.errorMonitor) return e.errorMonitor.captureException(t)
                }
            },
            Ge = function(t, e, n, r) {
                return je(void 0, void 0, void 0, (function() {
                    var o, i;
                    return Fe(this, (function(a) {
                        switch (a.label) {
                            case 0:
                                return a.trys.push([0, 2, , 3]), [4, t()];
                            case 1:
                                return [2, a.sent()];
                            case 2:
                                return o = a.sent(), i = We(o, e, n, r, "pageReady"), [2, {
                                    _error: o,
                                    _errorId: i
                                }];
                            case 3:
                                return [2]
                        }
                    }))
                }))
            },
            He = function(t) {
                return function(e) {
                    var n;
                    return t.controllerConfig.config.publicData = e, (n = {})[_e.PropsMap.publicData] = e, n
                }
            },
            Ve = function() {
                return Ve = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                    return t
                }, Ve.apply(this, arguments)
            },
            qe = function(t) {
                return function(e) {
                    var n, r, o;
                    return t.controllerConfig.config.style.styleParams = (void 0 === (r = t.controllerConfig.config.style.styleParams) && (r = {}), void 0 === (o = e) && (o = {}), Ve(Ve({}, r), {
                        colors: Ve(Ve({}, r.colors), o.colors),
                        booleans: Ve(Ve({}, r.booleans), o.booleans),
                        fonts: Ve(Ve({}, r.fonts), o.fonts),
                        numbers: Ve(Ve({}, r.numbers), o.numbers)
                    })), (n = {})[_e.PropsMap.styles] = t.controllerConfig.config.style.styleParams, n
                }
            },
            Ke = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            ze = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            },
            Ye = function(t, e, n, r) {
                return new(n || (n = Promise))((function(o, i) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            i(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            $e = function(t, e) {
                var n, r, o, i, a = {
                    label: 0,
                    sent: function() {
                        if (1 & o[0]) throw o[1];
                        return o[1]
                    },
                    trys: [],
                    ops: []
                };
                return i = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                    return this
                }), i;

                function s(i) {
                    return function(s) {
                        return function(i) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1])).done) return o;
                                switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                    case 0:
                                    case 1:
                                        o = i;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: i[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = i[1], i = [0];
                                        continue;
                                    case 7:
                                        i = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                            a.label = i[1];
                                            break
                                        }
                                        if (6 === i[0] && a.label < o[1]) {
                                            a.label = o[1], o = i;
                                            break
                                        }
                                        if (o && a.label < o[2]) {
                                            a.label = o[2], a.ops.push(i);
                                            break
                                        }
                                        o[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                i = e.call(t, a)
                            } catch (t) {
                                i = [6, t], r = 0
                            } finally {
                                n = o = 0
                            }
                            if (5 & i[0]) throw i[1];
                            return {
                                value: i[0] ? i[1] : void 0,
                                done: !0
                            }
                        }([i, s])
                    }
                }
            };

        function Je(t) {
            for (var e = 1; e < arguments.length; e++) {
                var n = null != arguments[e] ? Object(arguments[e]) : {},
                    r = Object.keys(n);
                "function" == typeof Object.getOwnPropertySymbols && r.push.apply(r, Object.getOwnPropertySymbols(n).filter((function(t) {
                    return Object.getOwnPropertyDescriptor(n, t).enumerable
                }))), r.forEach((function(e) {
                    Q(t, e, n[e])
                }))
            }
            return t
        }

        function Qe(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function Xe(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, J(r.key), r)
            }
        }

        function Ze(t, e, n) {
            return e && Xe(t.prototype, e), n && Xe(t, n), Object.defineProperty(t, "prototype", {
                writable: !1
            }), t
        }

        function tn(t) {
            if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }

        function en(t, e) {
            if (e && ("object" == $(e) || "function" == typeof e)) return e;
            if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined");
            return tn(t)
        }

        function nn(t) {
            return nn = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
                return t.__proto__ || Object.getPrototypeOf(t)
            }, nn(t)
        }

        function rn(t, e) {
            return rn = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {
                return t.__proto__ = e, t
            }, rn(t, e)
        }

        function on(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }), Object.defineProperty(t, "prototype", {
                writable: !1
            }), e && rn(t, e)
        }
        var an = {
                type: "logger",
                log: function(t) {
                    this.output("log", t)
                },
                warn: function(t) {
                    this.output("warn", t)
                },
                error: function(t) {
                    this.output("error", t)
                },
                output: function(t, e) {
                    console && console[t] && console[t].apply(console, e)
                }
            },
            sn = new(function() {
                function t(e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    Qe(this, t), this.init(e, n)
                }
                return Ze(t, [{
                    key: "init",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        this.prefix = e.prefix || "i18next:", this.logger = t || an, this.options = e, this.debug = e.debug
                    }
                }, {
                    key: "setDebug",
                    value: function(t) {
                        this.debug = t
                    }
                }, {
                    key: "log",
                    value: function() {
                        for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                        return this.forward(e, "log", "", !0)
                    }
                }, {
                    key: "warn",
                    value: function() {
                        for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                        return this.forward(e, "warn", "", !0)
                    }
                }, {
                    key: "error",
                    value: function() {
                        for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                        return this.forward(e, "error", "")
                    }
                }, {
                    key: "deprecate",
                    value: function() {
                        for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                        return this.forward(e, "warn", "WARNING DEPRECATED: ", !0)
                    }
                }, {
                    key: "forward",
                    value: function(t, e, n, r) {
                        return r && !this.debug ? null : ("string" == typeof t[0] && (t[0] = "".concat(n).concat(this.prefix, " ").concat(t[0])), this.logger[e](t))
                    }
                }, {
                    key: "create",
                    value: function(e) {
                        return new t(this.logger, Je({}, {
                            prefix: "".concat(this.prefix, ":").concat(e, ":")
                        }, this.options))
                    }
                }]), t
            }()),
            ln = function() {
                function t() {
                    Qe(this, t), this.observers = {}
                }
                return Ze(t, [{
                    key: "on",
                    value: function(t, e) {
                        var n = this;
                        return t.split(" ").forEach((function(t) {
                            n.observers[t] = n.observers[t] || [], n.observers[t].push(e)
                        })), this
                    }
                }, {
                    key: "off",
                    value: function(t, e) {
                        this.observers[t] && (e ? this.observers[t] = this.observers[t].filter((function(t) {
                            return t !== e
                        })) : delete this.observers[t])
                    }
                }, {
                    key: "emit",
                    value: function(t) {
                        for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) n[r - 1] = arguments[r];
                        this.observers[t] && [].concat(this.observers[t]).forEach((function(t) {
                            t.apply(void 0, n)
                        }));
                        this.observers["*"] && [].concat(this.observers["*"]).forEach((function(e) {
                            e.apply(e, [t].concat(n))
                        }))
                    }
                }]), t
            }();

        function un() {
            var t, e, n = new Promise((function(n, r) {
                t = n, e = r
            }));
            return n.resolve = t, n.reject = e, n
        }

        function cn(t) {
            return null == t ? "" : "" + t
        }

        function pn(t, e, n) {
            function r(t) {
                return t && t.indexOf("###") > -1 ? t.replace(/###/g, ".") : t
            }

            function o() {
                return !t || "string" == typeof t
            }
            for (var i = "string" != typeof e ? [].concat(e) : e.split("."); i.length > 1;) {
                if (o()) return {};
                var a = r(i.shift());
                !t[a] && n && (t[a] = new n), t = Object.prototype.hasOwnProperty.call(t, a) ? t[a] : {}
            }
            return o() ? {} : {
                obj: t,
                k: r(i.shift())
            }
        }

        function dn(t, e, n) {
            var r = pn(t, e, Object);
            r.obj[r.k] = n
        }

        function fn(t, e) {
            var n = pn(t, e),
                r = n.obj,
                o = n.k;
            if (r) return r[o]
        }

        function gn(t, e, n) {
            var r = fn(t, n);
            return void 0 !== r ? r : fn(e, n)
        }

        function hn(t, e, n) {
            for (var r in e) "__proto__" !== r && "constructor" !== r && (r in t ? "string" == typeof t[r] || t[r] instanceof String || "string" == typeof e[r] || e[r] instanceof String ? n && (t[r] = e[r]) : hn(t[r], e[r], n) : t[r] = e[r]);
            return t
        }

        function vn(t) {
            return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
        }
        var mn = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;"
        };

        function yn(t) {
            return "string" == typeof t ? t.replace(/[&<>"'\/]/g, (function(t) {
                return mn[t]
            })) : t
        }
        var bn = "undefined" != typeof window && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf("MSIE") > -1,
            Sn = function(t) {
                function e(t) {
                    var n, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        ns: ["translation"],
                        defaultNS: "translation"
                    };
                    return Qe(this, e), n = en(this, nn(e).call(this)), bn && ln.call(tn(n)), n.data = t || {}, n.options = r, void 0 === n.options.keySeparator && (n.options.keySeparator = "."), n
                }
                return on(e, t), Ze(e, [{
                    key: "addNamespaces",
                    value: function(t) {
                        this.options.ns.indexOf(t) < 0 && this.options.ns.push(t)
                    }
                }, {
                    key: "removeNamespaces",
                    value: function(t) {
                        var e = this.options.ns.indexOf(t);
                        e > -1 && this.options.ns.splice(e, 1)
                    }
                }, {
                    key: "getResource",
                    value: function(t, e, n) {
                        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                            o = void 0 !== r.keySeparator ? r.keySeparator : this.options.keySeparator,
                            i = [t, e];
                        return n && "string" != typeof n && (i = i.concat(n)), n && "string" == typeof n && (i = i.concat(o ? n.split(o) : n)), t.indexOf(".") > -1 && (i = t.split(".")), fn(this.data, i)
                    }
                }, {
                    key: "addResource",
                    value: function(t, e, n, r) {
                        var o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {
                                silent: !1
                            },
                            i = this.options.keySeparator;
                        void 0 === i && (i = ".");
                        var a = [t, e];
                        n && (a = a.concat(i ? n.split(i) : n)), t.indexOf(".") > -1 && (r = e, e = (a = t.split("."))[1]), this.addNamespaces(e), dn(this.data, a, r), o.silent || this.emit("added", t, e, n, r)
                    }
                }, {
                    key: "addResources",
                    value: function(t, e, n) {
                        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {
                            silent: !1
                        };
                        for (var o in n) "string" != typeof n[o] && "[object Array]" !== Object.prototype.toString.apply(n[o]) || this.addResource(t, e, o, n[o], {
                            silent: !0
                        });
                        r.silent || this.emit("added", t, e, n)
                    }
                }, {
                    key: "addResourceBundle",
                    value: function(t, e, n, r, o) {
                        var i = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {
                                silent: !1
                            },
                            a = [t, e];
                        t.indexOf(".") > -1 && (r = n, n = e, e = (a = t.split("."))[1]), this.addNamespaces(e);
                        var s = fn(this.data, a) || {};
                        r ? hn(s, n, o) : s = Je({}, s, n), dn(this.data, a, s), i.silent || this.emit("added", t, e, n)
                    }
                }, {
                    key: "removeResourceBundle",
                    value: function(t, e) {
                        this.hasResourceBundle(t, e) && delete this.data[t][e], this.removeNamespaces(e), this.emit("removed", t, e)
                    }
                }, {
                    key: "hasResourceBundle",
                    value: function(t, e) {
                        return void 0 !== this.getResource(t, e)
                    }
                }, {
                    key: "getResourceBundle",
                    value: function(t, e) {
                        return e || (e = this.options.defaultNS), "v1" === this.options.compatibilityAPI ? Je({}, {}, this.getResource(t, e)) : this.getResource(t, e)
                    }
                }, {
                    key: "getDataByLanguage",
                    value: function(t) {
                        return this.data[t]
                    }
                }, {
                    key: "toJSON",
                    value: function() {
                        return this.data
                    }
                }]), e
            }(ln),
            wn = {
                processors: {},
                addPostProcessor: function(t) {
                    this.processors[t.name] = t
                },
                handle: function(t, e, n, r, o) {
                    var i = this;
                    return t.forEach((function(t) {
                        i.processors[t] && (e = i.processors[t].process(e, n, r, o))
                    })), e
                }
            },
            Pn = {},
            Cn = function(t) {
                function e(t) {
                    var n, r, o, i, a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return Qe(this, e), n = en(this, nn(e).call(this)), bn && ln.call(tn(n)), r = ["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], o = t, i = tn(n), r.forEach((function(t) {
                        o[t] && (i[t] = o[t])
                    })), n.options = a, void 0 === n.options.keySeparator && (n.options.keySeparator = "."), n.logger = sn.create("translator"), n
                }
                return on(e, t), Ze(e, [{
                    key: "changeLanguage",
                    value: function(t) {
                        t && (this.language = t)
                    }
                }, {
                    key: "exists",
                    value: function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                                interpolation: {}
                            },
                            n = this.resolve(t, e);
                        return n && void 0 !== n.res
                    }
                }, {
                    key: "extractFromKey",
                    value: function(t, e) {
                        var n = void 0 !== e.nsSeparator ? e.nsSeparator : this.options.nsSeparator;
                        void 0 === n && (n = ":");
                        var r = void 0 !== e.keySeparator ? e.keySeparator : this.options.keySeparator,
                            o = e.ns || this.options.defaultNS;
                        if (n && t.indexOf(n) > -1) {
                            var i = t.match(this.interpolator.nestingRegexp);
                            if (i && i.length > 0) return {
                                key: t,
                                namespaces: o
                            };
                            var a = t.split(n);
                            (n !== r || n === r && this.options.ns.indexOf(a[0]) > -1) && (o = a.shift()), t = a.join(r)
                        }
                        return "string" == typeof o && (o = [o]), {
                            key: t,
                            namespaces: o
                        }
                    }
                }, {
                    key: "translate",
                    value: function(t, n, r) {
                        var o = this;
                        if ("object" !== $(n) && this.options.overloadTranslationOptionHandler && (n = this.options.overloadTranslationOptionHandler(arguments)), n || (n = {}), null == t) return "";
                        Array.isArray(t) || (t = [String(t)]);
                        var i = void 0 !== n.keySeparator ? n.keySeparator : this.options.keySeparator,
                            a = this.extractFromKey(t[t.length - 1], n),
                            s = a.key,
                            l = a.namespaces,
                            u = l[l.length - 1],
                            c = n.lng || this.language,
                            p = n.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
                        if (c && "cimode" === c.toLowerCase()) {
                            if (p) {
                                var d = n.nsSeparator || this.options.nsSeparator;
                                return u + d + s
                            }
                            return s
                        }
                        var f = this.resolve(t, n),
                            g = f && f.res,
                            h = f && f.usedKey || s,
                            v = f && f.exactUsedKey || s,
                            m = Object.prototype.toString.apply(g),
                            y = void 0 !== n.joinArrays ? n.joinArrays : this.options.joinArrays,
                            b = !this.i18nFormat || this.i18nFormat.handleAsObject;
                        if (b && g && ("string" != typeof g && "boolean" != typeof g && "number" != typeof g) && ["[object Number]", "[object Function]", "[object RegExp]"].indexOf(m) < 0 && ("string" != typeof y || "[object Array]" !== m)) {
                            if (!n.returnObjects && !this.options.returnObjects) return this.logger.warn("accessing an object - but returnObjects options is not enabled!"), this.options.returnedObjectHandler ? this.options.returnedObjectHandler(h, g, n) : "key '".concat(s, " (").concat(this.language, ")' returned an object instead of string.");
                            if (i) {
                                var S = "[object Array]" === m,
                                    w = S ? [] : {},
                                    P = S ? v : h;
                                for (var C in g)
                                    if (Object.prototype.hasOwnProperty.call(g, C)) {
                                        var I = "".concat(P).concat(i).concat(C);
                                        w[C] = this.translate(I, Je({}, n, {
                                            joinArrays: !1,
                                            ns: l
                                        })), w[C] === I && (w[C] = g[C])
                                    }
                                g = w
                            }
                        } else if (b && "string" == typeof y && "[object Array]" === m)(g = g.join(y)) && (g = this.extendTranslation(g, t, n, r));
                        else {
                            var x = !1,
                                O = !1,
                                E = void 0 !== n.count && "string" != typeof n.count,
                                A = e.hasDefaultValue(n),
                                T = E ? this.pluralResolver.getSuffix(c, n.count) : "",
                                k = n["defaultValue".concat(T)] || n.defaultValue;
                            !this.isValidLookup(g) && A && (x = !0, g = k), this.isValidLookup(g) || (O = !0, g = s);
                            var L = A && k !== g && this.options.updateMissing;
                            if (O || x || L) {
                                if (this.logger.log(L ? "updateKey" : "missingKey", c, u, s, L ? k : g), i) {
                                    var _ = this.resolve(s, Je({}, n, {
                                        keySeparator: !1
                                    }));
                                    _ && _.res && this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")
                                }
                                var D = [],
                                    R = this.languageUtils.getFallbackCodes(this.options.fallbackLng, n.lng || this.language);
                                if ("fallback" === this.options.saveMissingTo && R && R[0])
                                    for (var M = 0; M < R.length; M++) D.push(R[M]);
                                else "all" === this.options.saveMissingTo ? D = this.languageUtils.toResolveHierarchy(n.lng || this.language) : D.push(n.lng || this.language);
                                var N = function(t, e, r) {
                                    o.options.missingKeyHandler ? o.options.missingKeyHandler(t, u, e, L ? r : g, L, n) : o.backendConnector && o.backendConnector.saveMissing && o.backendConnector.saveMissing(t, u, e, L ? r : g, L, n), o.emit("missingKey", t, u, e, g)
                                };
                                this.options.saveMissing && (this.options.saveMissingPlurals && E ? D.forEach((function(t) {
                                    o.pluralResolver.getSuffixes(t).forEach((function(e) {
                                        N([t], s + e, n["defaultValue".concat(e)] || k)
                                    }))
                                })) : N(D, s, k))
                            }
                            g = this.extendTranslation(g, t, n, f, r), O && g === s && this.options.appendNamespaceToMissingKey && (g = "".concat(u, ":").concat(s)), O && this.options.parseMissingKeyHandler && (g = this.options.parseMissingKeyHandler(g))
                        }
                        return g
                    }
                }, {
                    key: "extendTranslation",
                    value: function(t, e, n, r, o) {
                        var i = this;
                        if (this.i18nFormat && this.i18nFormat.parse) t = this.i18nFormat.parse(t, n, r.usedLng, r.usedNS, r.usedKey, {
                            resolved: r
                        });
                        else if (!n.skipInterpolation) {
                            n.interpolation && this.interpolator.init(Je({}, n, {
                                interpolation: Je({}, this.options.interpolation, n.interpolation)
                            }));
                            var a, s = n.interpolation && n.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;
                            if (s) {
                                var l = t.match(this.interpolator.nestingRegexp);
                                a = l && l.length
                            }
                            var u = n.replace && "string" != typeof n.replace ? n.replace : n;
                            if (this.options.interpolation.defaultVariables && (u = Je({}, this.options.interpolation.defaultVariables, u)), t = this.interpolator.interpolate(t, u, n.lng || this.language, n), s) {
                                var c = t.match(this.interpolator.nestingRegexp);
                                a < (c && c.length) && (n.nest = !1)
                            }!1 !== n.nest && (t = this.interpolator.nest(t, (function() {
                                for (var t = arguments.length, r = new Array(t), a = 0; a < t; a++) r[a] = arguments[a];
                                return o && o[0] === r[0] && !n.context ? (i.logger.warn("It seems you are nesting recursively key: ".concat(r[0], " in key: ").concat(e[0])), null) : i.translate.apply(i, r.concat([e]))
                            }), n)), n.interpolation && this.interpolator.reset()
                        }
                        var p = n.postProcess || this.options.postProcess,
                            d = "string" == typeof p ? [p] : p;
                        return null != t && d && d.length && !1 !== n.applyPostProcessor && (t = wn.handle(d, t, e, this.options && this.options.postProcessPassResolved ? Je({
                            i18nResolved: r
                        }, n) : n, this)), t
                    }
                }, {
                    key: "resolve",
                    value: function(t) {
                        var e, n, r, o, i, a = this,
                            s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return "string" == typeof t && (t = [t]), t.forEach((function(t) {
                            if (!a.isValidLookup(e)) {
                                var l = a.extractFromKey(t, s),
                                    u = l.key;
                                n = u;
                                var c = l.namespaces;
                                a.options.fallbackNS && (c = c.concat(a.options.fallbackNS));
                                var p = void 0 !== s.count && "string" != typeof s.count,
                                    d = void 0 !== s.context && "string" == typeof s.context && "" !== s.context,
                                    f = s.lngs ? s.lngs : a.languageUtils.toResolveHierarchy(s.lng || a.language, s.fallbackLng);
                                c.forEach((function(t) {
                                    a.isValidLookup(e) || (i = t, !Pn["".concat(f[0], "-").concat(t)] && a.utils && a.utils.hasLoadedNamespace && !a.utils.hasLoadedNamespace(i) && (Pn["".concat(f[0], "-").concat(t)] = !0, a.logger.warn('key "'.concat(n, '" for languages "').concat(f.join(", "), '" won\'t get resolved as namespace "').concat(i, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")), f.forEach((function(n) {
                                        if (!a.isValidLookup(e)) {
                                            o = n;
                                            var i, l, c = u,
                                                f = [c];
                                            if (a.i18nFormat && a.i18nFormat.addLookupKeys) a.i18nFormat.addLookupKeys(f, u, n, t, s);
                                            else p && (i = a.pluralResolver.getSuffix(n, s.count)), p && d && f.push(c + i), d && f.push(c += "".concat(a.options.contextSeparator).concat(s.context)), p && f.push(c += i);
                                            for (; l = f.pop();) a.isValidLookup(e) || (r = l, e = a.getResource(n, t, l, s))
                                        }
                                    })))
                                }))
                            }
                        })), {
                            res: e,
                            usedKey: n,
                            exactUsedKey: r,
                            usedLng: o,
                            usedNS: i
                        }
                    }
                }, {
                    key: "isValidLookup",
                    value: function(t) {
                        return !(void 0 === t || !this.options.returnNull && null === t || !this.options.returnEmptyString && "" === t)
                    }
                }, {
                    key: "getResource",
                    value: function(t, e, n) {
                        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                        return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(t, e, n, r) : this.resourceStore.getResource(t, e, n, r)
                    }
                }], [{
                    key: "hasDefaultValue",
                    value: function(t) {
                        var e = "defaultValue";
                        for (var n in t)
                            if (Object.prototype.hasOwnProperty.call(t, n) && e === n.substring(0, 12) && void 0 !== t[n]) return !0;
                        return !1
                    }
                }]), e
            }(ln);

        function In(t) {
            return t.charAt(0).toUpperCase() + t.slice(1)
        }
        var xn = function() {
                function t(e) {
                    Qe(this, t), this.options = e, this.whitelist = this.options.supportedLngs || !1, this.supportedLngs = this.options.supportedLngs || !1, this.logger = sn.create("languageUtils")
                }
                return Ze(t, [{
                    key: "getScriptPartFromCode",
                    value: function(t) {
                        if (!t || t.indexOf("-") < 0) return null;
                        var e = t.split("-");
                        return 2 === e.length ? null : (e.pop(), "x" === e[e.length - 1].toLowerCase() ? null : this.formatLanguageCode(e.join("-")))
                    }
                }, {
                    key: "getLanguagePartFromCode",
                    value: function(t) {
                        if (!t || t.indexOf("-") < 0) return t;
                        var e = t.split("-");
                        return this.formatLanguageCode(e[0])
                    }
                }, {
                    key: "formatLanguageCode",
                    value: function(t) {
                        if ("string" == typeof t && t.indexOf("-") > -1) {
                            var e = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"],
                                n = t.split("-");
                            return this.options.lowerCaseLng ? n = n.map((function(t) {
                                return t.toLowerCase()
                            })) : 2 === n.length ? (n[0] = n[0].toLowerCase(), n[1] = n[1].toUpperCase(), e.indexOf(n[1].toLowerCase()) > -1 && (n[1] = In(n[1].toLowerCase()))) : 3 === n.length && (n[0] = n[0].toLowerCase(), 2 === n[1].length && (n[1] = n[1].toUpperCase()), "sgn" !== n[0] && 2 === n[2].length && (n[2] = n[2].toUpperCase()), e.indexOf(n[1].toLowerCase()) > -1 && (n[1] = In(n[1].toLowerCase())), e.indexOf(n[2].toLowerCase()) > -1 && (n[2] = In(n[2].toLowerCase()))), n.join("-")
                        }
                        return this.options.cleanCode || this.options.lowerCaseLng ? t.toLowerCase() : t
                    }
                }, {
                    key: "isWhitelisted",
                    value: function(t) {
                        return this.logger.deprecate("languageUtils.isWhitelisted", 'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'), this.isSupportedCode(t)
                    }
                }, {
                    key: "isSupportedCode",
                    value: function(t) {
                        return ("languageOnly" === this.options.load || this.options.nonExplicitSupportedLngs) && (t = this.getLanguagePartFromCode(t)), !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(t) > -1
                    }
                }, {
                    key: "getBestMatchFromCodes",
                    value: function(t) {
                        var e, n = this;
                        return t ? (t.forEach((function(t) {
                            if (!e) {
                                var r = n.formatLanguageCode(t);
                                n.options.supportedLngs && !n.isSupportedCode(r) || (e = r)
                            }
                        })), !e && this.options.supportedLngs && t.forEach((function(t) {
                            if (!e) {
                                var r = n.getLanguagePartFromCode(t);
                                if (n.isSupportedCode(r)) return e = r;
                                e = n.options.supportedLngs.find((function(t) {
                                    if (0 === t.indexOf(r)) return t
                                }))
                            }
                        })), e || (e = this.getFallbackCodes(this.options.fallbackLng)[0]), e) : null
                    }
                }, {
                    key: "getFallbackCodes",
                    value: function(t, e) {
                        if (!t) return [];
                        if ("function" == typeof t && (t = t(e)), "string" == typeof t && (t = [t]), "[object Array]" === Object.prototype.toString.apply(t)) return t;
                        if (!e) return t.default || [];
                        var n = t[e];
                        return n || (n = t[this.getScriptPartFromCode(e)]), n || (n = t[this.formatLanguageCode(e)]), n || (n = t[this.getLanguagePartFromCode(e)]), n || (n = t.default), n || []
                    }
                }, {
                    key: "toResolveHierarchy",
                    value: function(t, e) {
                        var n = this,
                            r = this.getFallbackCodes(e || this.options.fallbackLng || [], t),
                            o = [],
                            i = function(t) {
                                t && (n.isSupportedCode(t) ? o.push(t) : n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))
                            };
                        return "string" == typeof t && t.indexOf("-") > -1 ? ("languageOnly" !== this.options.load && i(this.formatLanguageCode(t)), "languageOnly" !== this.options.load && "currentOnly" !== this.options.load && i(this.getScriptPartFromCode(t)), "currentOnly" !== this.options.load && i(this.getLanguagePartFromCode(t))) : "string" == typeof t && i(this.formatLanguageCode(t)), r.forEach((function(t) {
                            o.indexOf(t) < 0 && i(n.formatLanguageCode(t))
                        })), o
                    }
                }]), t
            }(),
            On = [{
                lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
                nr: [1, 2],
                fc: 1
            }, {
                lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
                nr: [1, 2],
                fc: 2
            }, {
                lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "kk", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
                nr: [1],
                fc: 3
            }, {
                lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
                nr: [1, 2, 5],
                fc: 4
            }, {
                lngs: ["ar"],
                nr: [0, 1, 2, 3, 11, 100],
                fc: 5
            }, {
                lngs: ["cs", "sk"],
                nr: [1, 2, 5],
                fc: 6
            }, {
                lngs: ["csb", "pl"],
                nr: [1, 2, 5],
                fc: 7
            }, {
                lngs: ["cy"],
                nr: [1, 2, 3, 8],
                fc: 8
            }, {
                lngs: ["fr"],
                nr: [1, 2],
                fc: 9
            }, {
                lngs: ["ga"],
                nr: [1, 2, 3, 7, 11],
                fc: 10
            }, {
                lngs: ["gd"],
                nr: [1, 2, 3, 20],
                fc: 11
            }, {
                lngs: ["is"],
                nr: [1, 2],
                fc: 12
            }, {
                lngs: ["jv"],
                nr: [0, 1],
                fc: 13
            }, {
                lngs: ["kw"],
                nr: [1, 2, 3, 4],
                fc: 14
            }, {
                lngs: ["lt"],
                nr: [1, 2, 10],
                fc: 15
            }, {
                lngs: ["lv"],
                nr: [1, 2, 0],
                fc: 16
            }, {
                lngs: ["mk"],
                nr: [1, 2],
                fc: 17
            }, {
                lngs: ["mnk"],
                nr: [0, 1, 2],
                fc: 18
            }, {
                lngs: ["mt"],
                nr: [1, 2, 11, 20],
                fc: 19
            }, {
                lngs: ["or"],
                nr: [2, 1],
                fc: 2
            }, {
                lngs: ["ro"],
                nr: [1, 2, 20],
                fc: 20
            }, {
                lngs: ["sl"],
                nr: [5, 1, 2, 3],
                fc: 21
            }, {
                lngs: ["he", "iw"],
                nr: [1, 2, 20, 21],
                fc: 22
            }],
            En = {
                1: function(t) {
                    return Number(t > 1)
                },
                2: function(t) {
                    return Number(1 != t)
                },
                3: function(t) {
                    return 0
                },
                4: function(t) {
                    return Number(t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
                },
                5: function(t) {
                    return Number(0 == t ? 0 : 1 == t ? 1 : 2 == t ? 2 : t % 100 >= 3 && t % 100 <= 10 ? 3 : t % 100 >= 11 ? 4 : 5)
                },
                6: function(t) {
                    return Number(1 == t ? 0 : t >= 2 && t <= 4 ? 1 : 2)
                },
                7: function(t) {
                    return Number(1 == t ? 0 : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
                },
                8: function(t) {
                    return Number(1 == t ? 0 : 2 == t ? 1 : 8 != t && 11 != t ? 2 : 3)
                },
                9: function(t) {
                    return Number(t >= 2)
                },
                10: function(t) {
                    return Number(1 == t ? 0 : 2 == t ? 1 : t < 7 ? 2 : t < 11 ? 3 : 4)
                },
                11: function(t) {
                    return Number(1 == t || 11 == t ? 0 : 2 == t || 12 == t ? 1 : t > 2 && t < 20 ? 2 : 3)
                },
                12: function(t) {
                    return Number(t % 10 != 1 || t % 100 == 11)
                },
                13: function(t) {
                    return Number(0 !== t)
                },
                14: function(t) {
                    return Number(1 == t ? 0 : 2 == t ? 1 : 3 == t ? 2 : 3)
                },
                15: function(t) {
                    return Number(t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2)
                },
                16: function(t) {
                    return Number(t % 10 == 1 && t % 100 != 11 ? 0 : 0 !== t ? 1 : 2)
                },
                17: function(t) {
                    return Number(1 == t || t % 10 == 1 && t % 100 != 11 ? 0 : 1)
                },
                18: function(t) {
                    return Number(0 == t ? 0 : 1 == t ? 1 : 2)
                },
                19: function(t) {
                    return Number(1 == t ? 0 : 0 == t || t % 100 > 1 && t % 100 < 11 ? 1 : t % 100 > 10 && t % 100 < 20 ? 2 : 3)
                },
                20: function(t) {
                    return Number(1 == t ? 0 : 0 == t || t % 100 > 0 && t % 100 < 20 ? 1 : 2)
                },
                21: function(t) {
                    return Number(t % 100 == 1 ? 1 : t % 100 == 2 ? 2 : t % 100 == 3 || t % 100 == 4 ? 3 : 0)
                },
                22: function(t) {
                    return Number(1 == t ? 0 : 2 == t ? 1 : (t < 0 || t > 10) && t % 10 == 0 ? 2 : 3)
                }
            };
        var An = function() {
                function t(e) {
                    var n, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    Qe(this, t), this.languageUtils = e, this.options = r, this.logger = sn.create("pluralResolver"), this.rules = (n = {}, On.forEach((function(t) {
                        t.lngs.forEach((function(e) {
                            n[e] = {
                                numbers: t.nr,
                                plurals: En[t.fc]
                            }
                        }))
                    })), n)
                }
                return Ze(t, [{
                    key: "addRule",
                    value: function(t, e) {
                        this.rules[t] = e
                    }
                }, {
                    key: "getRule",
                    value: function(t) {
                        return this.rules[t] || this.rules[this.languageUtils.getLanguagePartFromCode(t)]
                    }
                }, {
                    key: "needsPlural",
                    value: function(t) {
                        var e = this.getRule(t);
                        return e && e.numbers.length > 1
                    }
                }, {
                    key: "getPluralFormsOfKey",
                    value: function(t, e) {
                        return this.getSuffixes(t).map((function(t) {
                            return e + t
                        }))
                    }
                }, {
                    key: "getSuffixes",
                    value: function(t) {
                        var e = this,
                            n = this.getRule(t);
                        return n ? n.numbers.map((function(n) {
                            return e.getSuffix(t, n)
                        })) : []
                    }
                }, {
                    key: "getSuffix",
                    value: function(t, e) {
                        var n = this,
                            r = this.getRule(t);
                        if (r) {
                            var o = r.noAbs ? r.plurals(e) : r.plurals(Math.abs(e)),
                                i = r.numbers[o];
                            this.options.simplifyPluralSuffix && 2 === r.numbers.length && 1 === r.numbers[0] && (2 === i ? i = "plural" : 1 === i && (i = ""));
                            var a = function() {
                                return n.options.prepend && i.toString() ? n.options.prepend + i.toString() : i.toString()
                            };
                            return "v1" === this.options.compatibilityJSON ? 1 === i ? "" : "number" == typeof i ? "_plural_".concat(i.toString()) : a() : "v2" === this.options.compatibilityJSON || this.options.simplifyPluralSuffix && 2 === r.numbers.length && 1 === r.numbers[0] ? a() : this.options.prepend && o.toString() ? this.options.prepend + o.toString() : o.toString()
                        }
                        return this.logger.warn("no plural rule found for: ".concat(t)), ""
                    }
                }]), t
            }(),
            Tn = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    Qe(this, t), this.logger = sn.create("interpolator"), this.options = e, this.format = e.interpolation && e.interpolation.format || function(t) {
                        return t
                    }, this.init(e)
                }
                return Ze(t, [{
                    key: "init",
                    value: function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        t.interpolation || (t.interpolation = {
                            escapeValue: !0
                        });
                        var e = t.interpolation;
                        this.escape = void 0 !== e.escape ? e.escape : yn, this.escapeValue = void 0 === e.escapeValue || e.escapeValue, this.useRawValueToEscape = void 0 !== e.useRawValueToEscape && e.useRawValueToEscape, this.prefix = e.prefix ? vn(e.prefix) : e.prefixEscaped || "{{", this.suffix = e.suffix ? vn(e.suffix) : e.suffixEscaped || "}}", this.formatSeparator = e.formatSeparator ? e.formatSeparator : e.formatSeparator || ",", this.unescapePrefix = e.unescapeSuffix ? "" : e.unescapePrefix || "-", this.unescapeSuffix = this.unescapePrefix ? "" : e.unescapeSuffix || "", this.nestingPrefix = e.nestingPrefix ? vn(e.nestingPrefix) : e.nestingPrefixEscaped || vn("$t("), this.nestingSuffix = e.nestingSuffix ? vn(e.nestingSuffix) : e.nestingSuffixEscaped || vn(")"), this.nestingOptionsSeparator = e.nestingOptionsSeparator ? e.nestingOptionsSeparator : e.nestingOptionsSeparator || ",", this.maxReplaces = e.maxReplaces ? e.maxReplaces : 1e3, this.alwaysFormat = void 0 !== e.alwaysFormat && e.alwaysFormat, this.resetRegExp()
                    }
                }, {
                    key: "reset",
                    value: function() {
                        this.options && this.init(this.options)
                    }
                }, {
                    key: "resetRegExp",
                    value: function() {
                        var t = "".concat(this.prefix, "(.+?)").concat(this.suffix);
                        this.regexp = new RegExp(t, "g");
                        var e = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
                        this.regexpUnescape = new RegExp(e, "g");
                        var n = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
                        this.nestingRegexp = new RegExp(n, "g")
                    }
                }, {
                    key: "interpolate",
                    value: function(t, e, n, r) {
                        var o, i, a, s = this,
                            l = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

                        function u(t) {
                            return t.replace(/\$/g, "$$$$")
                        }
                        var c = function(t) {
                            if (t.indexOf(s.formatSeparator) < 0) {
                                var o = gn(e, l, t);
                                return s.alwaysFormat ? s.format(o, void 0, n) : o
                            }
                            var i = t.split(s.formatSeparator),
                                a = i.shift().trim(),
                                u = i.join(s.formatSeparator).trim();
                            return s.format(gn(e, l, a), u, n, r)
                        };
                        this.resetRegExp();
                        var p = r && r.missingInterpolationHandler || this.options.missingInterpolationHandler,
                            d = r && r.interpolation && r.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;
                        return [{
                            regex: this.regexpUnescape,
                            safeValue: function(t) {
                                return u(t)
                            }
                        }, {
                            regex: this.regexp,
                            safeValue: function(t) {
                                return s.escapeValue ? u(s.escape(t)) : u(t)
                            }
                        }].forEach((function(e) {
                            for (a = 0; o = e.regex.exec(t);) {
                                if (void 0 === (i = c(o[1].trim())))
                                    if ("function" == typeof p) {
                                        var n = p(t, o, r);
                                        i = "string" == typeof n ? n : ""
                                    } else {
                                        if (d) {
                                            i = o[0];
                                            continue
                                        }
                                        s.logger.warn("missed to pass in variable ".concat(o[1], " for interpolating ").concat(t)), i = ""
                                    }
                                else "string" == typeof i || s.useRawValueToEscape || (i = cn(i));
                                if (t = t.replace(o[0], e.safeValue(i)), e.regex.lastIndex = 0, ++a >= s.maxReplaces) break
                            }
                        })), t
                    }
                }, {
                    key: "nest",
                    value: function(t, e) {
                        var n, r, o = this,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                            a = Je({}, i);

                        function s(t, e) {
                            var n = this.nestingOptionsSeparator;
                            if (t.indexOf(n) < 0) return t;
                            var r = t.split(new RegExp("".concat(n, "[ ]*{"))),
                                o = "{".concat(r[1]);
                            t = r[0], o = (o = this.interpolate(o, a)).replace(/'/g, '"');
                            try {
                                a = JSON.parse(o), e && (a = Je({}, e, a))
                            } catch (e) {
                                return this.logger.warn("failed parsing options string in nesting for key ".concat(t), e), "".concat(t).concat(n).concat(o)
                            }
                            return delete a.defaultValue, t
                        }
                        for (a.applyPostProcessor = !1, delete a.defaultValue; n = this.nestingRegexp.exec(t);) {
                            var l = [],
                                u = !1;
                            if (n[0].includes(this.formatSeparator) && !/{.*}/.test(n[1])) {
                                var c = n[1].split(this.formatSeparator).map((function(t) {
                                    return t.trim()
                                }));
                                n[1] = c.shift(), l = c, u = !0
                            }
                            if ((r = e(s.call(this, n[1].trim(), a), a)) && n[0] === t && "string" != typeof r) return r;
                            "string" != typeof r && (r = cn(r)), r || (this.logger.warn("missed to resolve ".concat(n[1], " for nesting ").concat(t)), r = ""), u && (r = l.reduce((function(t, e) {
                                return o.format(t, e, i.lng, i)
                            }), r.trim())), t = t.replace(n[0], r), this.regexp.lastIndex = 0
                        }
                        return t
                    }
                }]), t
            }();
        var kn = function(t) {
            function e(t, n, r) {
                var o, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                return Qe(this, e), o = en(this, nn(e).call(this)), bn && ln.call(tn(o)), o.backend = t, o.store = n, o.services = r, o.languageUtils = r.languageUtils, o.options = i, o.logger = sn.create("backendConnector"), o.state = {}, o.queue = [], o.backend && o.backend.init && o.backend.init(r, i.backend, i), o
            }
            return on(e, t), Ze(e, [{
                key: "queueLoad",
                value: function(t, e, n, r) {
                    var o = this,
                        i = [],
                        a = [],
                        s = [],
                        l = [];
                    return t.forEach((function(t) {
                        var r = !0;
                        e.forEach((function(e) {
                            var s = "".concat(t, "|").concat(e);
                            !n.reload && o.store.hasResourceBundle(t, e) ? o.state[s] = 2 : o.state[s] < 0 || (1 === o.state[s] ? a.indexOf(s) < 0 && a.push(s) : (o.state[s] = 1, r = !1, a.indexOf(s) < 0 && a.push(s), i.indexOf(s) < 0 && i.push(s), l.indexOf(e) < 0 && l.push(e)))
                        })), r || s.push(t)
                    })), (i.length || a.length) && this.queue.push({
                        pending: a,
                        loaded: {},
                        errors: [],
                        callback: r
                    }), {
                        toLoad: i,
                        pending: a,
                        toLoadLanguages: s,
                        toLoadNamespaces: l
                    }
                }
            }, {
                key: "loaded",
                value: function(t, e, n) {
                    var r = t.split("|"),
                        o = r[0],
                        i = r[1];
                    e && this.emit("failedLoading", o, i, e), n && this.store.addResourceBundle(o, i, n), this.state[t] = e ? -1 : 2;
                    var a = {};
                    this.queue.forEach((function(n) {
                        var r, s, l, u, c, p;
                        r = n.loaded, s = i, u = pn(r, [o], Object), c = u.obj, p = u.k, c[p] = c[p] || [], l && (c[p] = c[p].concat(s)), l || c[p].push(s),
                            function(t, e) {
                                for (var n = t.indexOf(e); - 1 !== n;) t.splice(n, 1), n = t.indexOf(e)
                            }(n.pending, t), e && n.errors.push(e), 0 !== n.pending.length || n.done || (Object.keys(n.loaded).forEach((function(t) {
                                a[t] || (a[t] = []), n.loaded[t].length && n.loaded[t].forEach((function(e) {
                                    a[t].indexOf(e) < 0 && a[t].push(e)
                                }))
                            })), n.done = !0, n.errors.length ? n.callback(n.errors) : n.callback())
                    })), this.emit("loaded", a), this.queue = this.queue.filter((function(t) {
                        return !t.done
                    }))
                }
            }, {
                key: "read",
                value: function(t, e, n) {
                    var r = this,
                        o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 350,
                        a = arguments.length > 5 ? arguments[5] : void 0;
                    return t.length ? this.backend[n](t, e, (function(s, l) {
                        s && l && o < 5 ? setTimeout((function() {
                            r.read.call(r, t, e, n, o + 1, 2 * i, a)
                        }), i) : a(s, l)
                    })) : a(null, {})
                }
            }, {
                key: "prepareLoading",
                value: function(t, e) {
                    var n = this,
                        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        o = arguments.length > 3 ? arguments[3] : void 0;
                    if (!this.backend) return this.logger.warn("No backend was added via i18next.use. Will not load resources."), o && o();
                    "string" == typeof t && (t = this.languageUtils.toResolveHierarchy(t)), "string" == typeof e && (e = [e]);
                    var i = this.queueLoad(t, e, r, o);
                    if (!i.toLoad.length) return i.pending.length || o(), null;
                    i.toLoad.forEach((function(t) {
                        n.loadOne(t)
                    }))
                }
            }, {
                key: "load",
                value: function(t, e, n) {
                    this.prepareLoading(t, e, {}, n)
                }
            }, {
                key: "reload",
                value: function(t, e, n) {
                    this.prepareLoading(t, e, {
                        reload: !0
                    }, n)
                }
            }, {
                key: "loadOne",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        r = t.split("|"),
                        o = r[0],
                        i = r[1];
                    this.read(o, i, "read", void 0, void 0, (function(r, a) {
                        r && e.logger.warn("".concat(n, "loading namespace ").concat(i, " for language ").concat(o, " failed"), r), !r && a && e.logger.log("".concat(n, "loaded namespace ").concat(i, " for language ").concat(o), a), e.loaded(t, r, a)
                    }))
                }
            }, {
                key: "saveMissing",
                value: function(t, e, n, r, o) {
                    var i = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {};
                    this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(e) ? this.logger.warn('did not save key "'.concat(n, '" as the namespace "').concat(e, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!") : null != n && "" !== n && (this.backend && this.backend.create && this.backend.create(t, e, n, r, null, Je({}, i, {
                        isUpdate: o
                    })), t && t[0] && this.store.addResource(t[0], e, n, r))
                }
            }]), e
        }(ln);

        function Ln(t) {
            return "string" == typeof t.ns && (t.ns = [t.ns]), "string" == typeof t.fallbackLng && (t.fallbackLng = [t.fallbackLng]), "string" == typeof t.fallbackNS && (t.fallbackNS = [t.fallbackNS]), t.whitelist && (t.whitelist && t.whitelist.indexOf("cimode") < 0 && (t.whitelist = t.whitelist.concat(["cimode"])), t.supportedLngs = t.whitelist), t.nonExplicitWhitelist && (t.nonExplicitSupportedLngs = t.nonExplicitWhitelist), t.supportedLngs && t.supportedLngs.indexOf("cimode") < 0 && (t.supportedLngs = t.supportedLngs.concat(["cimode"])), t
        }

        function _n() {}
        const Dn = new(function(t) {
            function e() {
                var t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    r = arguments.length > 1 ? arguments[1] : void 0;
                if (Qe(this, e), t = en(this, nn(e).call(this)), bn && ln.call(tn(t)), t.options = Ln(n), t.services = {}, t.logger = sn, t.modules = {
                        external: []
                    }, r && !t.isInitialized && !n.isClone) {
                    if (!t.options.initImmediate) return t.init(n, r), en(t, tn(t));
                    setTimeout((function() {
                        t.init(n, r)
                    }), 0)
                }
                return t
            }
            return on(e, t), Ze(e, [{
                key: "init",
                value: function() {
                    var t = this,
                        e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = arguments.length > 1 ? arguments[1] : void 0;

                    function r(t) {
                        return t ? "function" == typeof t ? new t : t : null
                    }
                    if ("function" == typeof e && (n = e, e = {}), e.whitelist && !e.supportedLngs && this.logger.deprecate("whitelist", 'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'), e.nonExplicitWhitelist && !e.nonExplicitSupportedLngs && this.logger.deprecate("whitelist", 'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'), this.options = Je({}, {
                            debug: !1,
                            initImmediate: !0,
                            ns: ["translation"],
                            defaultNS: ["translation"],
                            fallbackLng: ["dev"],
                            fallbackNS: !1,
                            whitelist: !1,
                            nonExplicitWhitelist: !1,
                            supportedLngs: !1,
                            nonExplicitSupportedLngs: !1,
                            load: "all",
                            preload: !1,
                            simplifyPluralSuffix: !0,
                            keySeparator: ".",
                            nsSeparator: ":",
                            pluralSeparator: "_",
                            contextSeparator: "_",
                            partialBundledLanguages: !1,
                            saveMissing: !1,
                            updateMissing: !1,
                            saveMissingTo: "fallback",
                            saveMissingPlurals: !0,
                            missingKeyHandler: !1,
                            missingInterpolationHandler: !1,
                            postProcess: !1,
                            postProcessPassResolved: !1,
                            returnNull: !0,
                            returnEmptyString: !0,
                            returnObjects: !1,
                            joinArrays: !1,
                            returnedObjectHandler: !1,
                            parseMissingKeyHandler: !1,
                            appendNamespaceToMissingKey: !1,
                            appendNamespaceToCIMode: !1,
                            overloadTranslationOptionHandler: function(t) {
                                var e = {};
                                if ("object" === $(t[1]) && (e = t[1]), "string" == typeof t[1] && (e.defaultValue = t[1]), "string" == typeof t[2] && (e.tDescription = t[2]), "object" === $(t[2]) || "object" === $(t[3])) {
                                    var n = t[3] || t[2];
                                    Object.keys(n).forEach((function(t) {
                                        e[t] = n[t]
                                    }))
                                }
                                return e
                            },
                            interpolation: {
                                escapeValue: !0,
                                format: function(t, e, n, r) {
                                    return t
                                },
                                prefix: "{{",
                                suffix: "}}",
                                formatSeparator: ",",
                                unescapePrefix: "-",
                                nestingPrefix: "$t(",
                                nestingSuffix: ")",
                                nestingOptionsSeparator: ",",
                                maxReplaces: 1e3,
                                skipOnVariables: !1
                            }
                        }, this.options, Ln(e)), this.format = this.options.interpolation.format, n || (n = _n), !this.options.isClone) {
                        this.modules.logger ? sn.init(r(this.modules.logger), this.options) : sn.init(null, this.options);
                        var o = new xn(this.options);
                        this.store = new Sn(this.options.resources, this.options);
                        var i = this.services;
                        i.logger = sn, i.resourceStore = this.store, i.languageUtils = o, i.pluralResolver = new An(o, {
                            prepend: this.options.pluralSeparator,
                            compatibilityJSON: this.options.compatibilityJSON,
                            simplifyPluralSuffix: this.options.simplifyPluralSuffix
                        }), i.interpolator = new Tn(this.options), i.utils = {
                            hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
                        }, i.backendConnector = new kn(r(this.modules.backend), i.resourceStore, i, this.options), i.backendConnector.on("*", (function(e) {
                            for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) r[o - 1] = arguments[o];
                            t.emit.apply(t, [e].concat(r))
                        })), this.modules.languageDetector && (i.languageDetector = r(this.modules.languageDetector), i.languageDetector.init(i, this.options.detection, this.options)), this.modules.i18nFormat && (i.i18nFormat = r(this.modules.i18nFormat), i.i18nFormat.init && i.i18nFormat.init(this)), this.translator = new Cn(this.services, this.options), this.translator.on("*", (function(e) {
                            for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) r[o - 1] = arguments[o];
                            t.emit.apply(t, [e].concat(r))
                        })), this.modules.external.forEach((function(e) {
                            e.init && e.init(t)
                        }))
                    }
                    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
                        var a = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                        a.length > 0 && "dev" !== a[0] && (this.options.lng = a[0])
                    }
                    this.services.languageDetector || this.options.lng || this.logger.warn("init: no languageDetector is used and no lng is defined");
                    ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"].forEach((function(e) {
                        t[e] = function() {
                            var n;
                            return (n = t.store)[e].apply(n, arguments)
                        }
                    }));
                    ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"].forEach((function(e) {
                        t[e] = function() {
                            var n;
                            return (n = t.store)[e].apply(n, arguments), t
                        }
                    }));
                    var s = un(),
                        l = function() {
                            var e = function(e, r) {
                                t.isInitialized && t.logger.warn("init: i18next is already initialized. You should call init just once!"), t.isInitialized = !0, t.options.isClone || t.logger.log("initialized", t.options), t.emit("initialized", t.options), s.resolve(r), n(e, r)
                            };
                            if (t.languages && "v1" !== t.options.compatibilityAPI && !t.isInitialized) return e(null, t.t.bind(t));
                            t.changeLanguage(t.options.lng, e)
                        };
                    return this.options.resources || !this.options.initImmediate ? l() : setTimeout(l, 0), s
                }
            }, {
                key: "loadResources",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : _n,
                        r = "string" == typeof t ? t : this.language;
                    if ("function" == typeof t && (n = t), !this.options.resources || this.options.partialBundledLanguages) {
                        if (r && "cimode" === r.toLowerCase()) return n();
                        var o = [],
                            i = function(t) {
                                t && e.services.languageUtils.toResolveHierarchy(t).forEach((function(t) {
                                    o.indexOf(t) < 0 && o.push(t)
                                }))
                            };
                        if (r) i(r);
                        else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t) {
                            return i(t)
                        }));
                        this.options.preload && this.options.preload.forEach((function(t) {
                            return i(t)
                        })), this.services.backendConnector.load(o, this.options.ns, n)
                    } else n(null)
                }
            }, {
                key: "reloadResources",
                value: function(t, e, n) {
                    var r = un();
                    return t || (t = this.languages), e || (e = this.options.ns), n || (n = _n), this.services.backendConnector.reload(t, e, (function(t) {
                        r.resolve(), n(t)
                    })), r
                }
            }, {
                key: "use",
                value: function(t) {
                    if (!t) throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
                    if (!t.type) throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
                    return "backend" === t.type && (this.modules.backend = t), ("logger" === t.type || t.log && t.warn && t.error) && (this.modules.logger = t), "languageDetector" === t.type && (this.modules.languageDetector = t), "i18nFormat" === t.type && (this.modules.i18nFormat = t), "postProcessor" === t.type && wn.addPostProcessor(t), "3rdParty" === t.type && this.modules.external.push(t), this
                }
            }, {
                key: "changeLanguage",
                value: function(t, e) {
                    var n = this;
                    this.isLanguageChangingTo = t;
                    var r = un();
                    this.emit("languageChanging", t);
                    var o = function(t) {
                        var o = "string" == typeof t ? t : n.services.languageUtils.getBestMatchFromCodes(t);
                        o && (n.language || (n.language = o, n.languages = n.services.languageUtils.toResolveHierarchy(o)), n.translator.language || n.translator.changeLanguage(o), n.services.languageDetector && n.services.languageDetector.cacheUserLanguage(o)), n.loadResources(o, (function(t) {
                            ! function(t, o) {
                                o ? (n.language = o, n.languages = n.services.languageUtils.toResolveHierarchy(o), n.translator.changeLanguage(o), n.isLanguageChangingTo = void 0, n.emit("languageChanged", o), n.logger.log("languageChanged", o)) : n.isLanguageChangingTo = void 0, r.resolve((function() {
                                    return n.t.apply(n, arguments)
                                })), e && e(t, (function() {
                                    return n.t.apply(n, arguments)
                                }))
                            }(t, o)
                        }))
                    };
                    return t || !this.services.languageDetector || this.services.languageDetector.async ? !t && this.services.languageDetector && this.services.languageDetector.async ? this.services.languageDetector.detect(o) : o(t) : o(this.services.languageDetector.detect()), r
                }
            }, {
                key: "getFixedT",
                value: function(t, e) {
                    var n = this,
                        r = function t(e, r) {
                            var o;
                            if ("object" !== $(r)) {
                                for (var i = arguments.length, a = new Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) a[s - 2] = arguments[s];
                                o = n.options.overloadTranslationOptionHandler([e, r].concat(a))
                            } else o = Je({}, r);
                            return o.lng = o.lng || t.lng, o.lngs = o.lngs || t.lngs, o.ns = o.ns || t.ns, n.t(e, o)
                        };
                    return "string" == typeof t ? r.lng = t : r.lngs = t, r.ns = e, r
                }
            }, {
                key: "t",
                value: function() {
                    var t;
                    return this.translator && (t = this.translator).translate.apply(t, arguments)
                }
            }, {
                key: "exists",
                value: function() {
                    var t;
                    return this.translator && (t = this.translator).exists.apply(t, arguments)
                }
            }, {
                key: "setDefaultNamespace",
                value: function(t) {
                    this.options.defaultNS = t
                }
            }, {
                key: "hasLoadedNamespace",
                value: function(t) {
                    var e = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (!this.isInitialized) return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages), !1;
                    if (!this.languages || !this.languages.length) return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages), !1;
                    var r = this.languages[0],
                        o = !!this.options && this.options.fallbackLng,
                        i = this.languages[this.languages.length - 1];
                    if ("cimode" === r.toLowerCase()) return !0;
                    var a = function(t, n) {
                        var r = e.services.backendConnector.state["".concat(t, "|").concat(n)];
                        return -1 === r || 2 === r
                    };
                    if (n.precheck) {
                        var s = n.precheck(this, a);
                        if (void 0 !== s) return s
                    }
                    return !!this.hasResourceBundle(r, t) || (!this.services.backendConnector.backend || !(!a(r, t) || o && !a(i, t)))
                }
            }, {
                key: "loadNamespaces",
                value: function(t, e) {
                    var n = this,
                        r = un();
                    return this.options.ns ? ("string" == typeof t && (t = [t]), t.forEach((function(t) {
                        n.options.ns.indexOf(t) < 0 && n.options.ns.push(t)
                    })), this.loadResources((function(t) {
                        r.resolve(), e && e(t)
                    })), r) : (e && e(), Promise.resolve())
                }
            }, {
                key: "loadLanguages",
                value: function(t, e) {
                    var n = un();
                    "string" == typeof t && (t = [t]);
                    var r = this.options.preload || [],
                        o = t.filter((function(t) {
                            return r.indexOf(t) < 0
                        }));
                    return o.length ? (this.options.preload = r.concat(o), this.loadResources((function(t) {
                        n.resolve(), e && e(t)
                    })), n) : (e && e(), Promise.resolve())
                }
            }, {
                key: "dir",
                value: function(t) {
                    if (t || (t = this.languages && this.languages.length > 0 ? this.languages[0] : this.language), !t) return "rtl";
                    return ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t)) >= 0 ? "rtl" : "ltr"
                }
            }, {
                key: "createInstance",
                value: function() {
                    return new e(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, arguments.length > 1 ? arguments[1] : void 0)
                }
            }, {
                key: "cloneInstance",
                value: function() {
                    var t = this,
                        n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : _n,
                        o = Je({}, this.options, n, {
                            isClone: !0
                        }),
                        i = new e(o);
                    return ["store", "services", "language"].forEach((function(e) {
                        i[e] = t[e]
                    })), i.services = Je({}, this.services), i.services.utils = {
                        hasLoadedNamespace: i.hasLoadedNamespace.bind(i)
                    }, i.translator = new Cn(i.services, i.options), i.translator.on("*", (function(t) {
                        for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) n[r - 1] = arguments[r];
                        i.emit.apply(i, [t].concat(n))
                    })), i.init(o, r), i.translator.options = i.options, i.translator.backendConnector.services.utils = {
                        hasLoadedNamespace: i.hasLoadedNamespace.bind(i)
                    }, i
                }
            }]), e
        }(ln));
        const Rn = t => function(e) {
            void 0 === e && (e = {});
            const n = "function" == typeof t.factory ? t.factory(e) : t;
            return function(t, e) {
                return Object.defineProperty(e, "updateDefaults", {
                    value: function(e) {
                        return t.updateDefaults(e)
                    }
                }), e
            }(n, n.logger())
        };
        const Mn = {
                sentryConfig: {
                    DSN: "https://e27a8d4ddc0b4cddbb88c8eafad23b21@sentry.wixpress.com/4950",
                    id: "e27a8d4ddc0b4cddbb88c8eafad23b21",
                    projectName: "ecom-platform-cart-icon",
                    teamName: "wixstores",
                    errorMonitor: !0
                },
                biConfig: null,
                fedopsConfig: null,
                experimentsConfig: {
                    scopes: ["stores", "viewer-apps-1380b703-ce81-ff05-f115-39571d94dfcd"],
                    centralized: !0
                },
                biLogger: Rn,
                translationsConfig: {
                    icuEnabled: !1,
                    defaultTranslationsPath: "/home/builduser/work/18b508ac43996097/packages/ecom-platform-cart-icon/src/assets/locales/messages_en.json",
                    availableLanguages: ["ar", "bg", "ca", "cs", "da", "de", "el", "en", "es", "fi", "fr", "he", "hi", "hr", "hu", "id", "it", "ja", "ko", "lt", "lv", "ms", "nl", "no", "pl", "pt", "ro", "ru", "sk", "sl", "sv", "th", "tl", "tr", "uk", "vi", "zh"]
                },
                persistentAcrossPages: !1,
                appName: "CART ICON OOI",
                componentName: "CartIcon",
                appDefinitionId: "1380b703-ce81-ff05-f115-39571d94dfcd",
                componentId: "1380bbc4-1485-9d44-4616-92e36b1ead6b",
                projectName: "ecom-platform-cart-icon",
                defaultTranslations: {
                    CART_ICON_7: "Cart",
                    "shoppingCartIcon.designTab.cartIconStyle.iconTextLabel": "Icon text",
                    "sr.CART_WIDGET_BUTTON_TEXT": "Cart with {{itemsCount}} items",
                    "shoppingCartIcon.designTab.cartIconStyle.iconTextPlaceholder": "Cart",
                    CART_ICON_3: "CART",
                    CART_ICON_4: "Cart",
                    CART_ICON_5: "Cart"
                },
                multilingualDisabled: !1,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                localeDistPath: "assets/locales"
            },
            Nn = function(t, e, n) {
                var r = e.sentryConfig,
                    o = e.biConfig,
                    i = e.experimentsConfig,
                    a = e.fedopsConfig,
                    s = e.biLogger,
                    l = e.projectName,
                    u = e.inEditor,
                    c = e.translationsConfig,
                    p = e.defaultTranslations,
                    d = e.appName,
                    f = e.componentId,
                    g = e.componentName,
                    h = e.persistentAcrossPages,
                    v = e.localeDistPath,
                    m = e.shouldUseEssentials,
                    y = e.withErrorBoundary,
                    b = e.multilingualDisabled;
                return function(e) {
                    var S = e.controllerConfig,
                        w = e.appData,
                        P = e.flowAPI,
                        C = e.platformServices,
                        I = e.dangerousPublicDataOverride,
                        x = e.dangerousStylesOverride;
                    return Ye(void 0, void 0, void 0, (function() {
                        var e, O, E, A, T, k, L, _, D, R, M, N, U, j, F, B, W, G, H, V;
                        return $e(this, (function(q) {
                            switch (q.label) {
                                case 0:
                                    return P ? [2, t.call(null, {
                                        controllerConfig: S,
                                        flowAPI: P,
                                        appData: w,
                                        dangerousPublicDataOverride: I,
                                        dangerousStylesOverride: x
                                    })] : (e = w.__prepopulated, O = re(S.essentials, {
                                        platform: ee.Viewer,
                                        componentId: f,
                                        sentryConfig: r,
                                        sentryEnvironment: "Viewer:Worker"
                                    }), [4, (K = S.platformAPIs.platformApiProvider, Ke(void 0, void 0, void 0, (function() {
                                        var t, e, n, r, o, i;
                                        return ze(this, (function(a) {
                                            switch (a.label) {
                                                case 0:
                                                    return [4, Promise.all([K.getPlatformApi("location"), K.getPlatformApi("user"), K.getPlatformApi("window"), K.getPlatformApi("site"), K.getPlatformApi("seo")])];
                                                case 1:
                                                    return t = a.sent(), e = t[0], n = t[1], r = t[2], o = t[3], i = t[4], [2, {
                                                        locationAPI: e,
                                                        userAPI: n,
                                                        windowAPI: r,
                                                        siteAPI: o,
                                                        seoAPI: i
                                                    }]
                                            }
                                        }))
                                    })))]);
                                case 1:
                                    return E = q.sent(), A = E.locationAPI, T = E.userAPI, k = E.windowAPI, L = E.siteAPI, _ = E.seoAPI, [4, (D = new ce({
                                        experimentsConfig: i,
                                        projectName: l,
                                        sentryConfig: r,
                                        essentials: null !== (j = null == C ? void 0 : C.essentials) && void 0 !== j ? j : S.essentials,
                                        platformBI: null !== (F = null == C ? void 0 : C.bi) && void 0 !== F ? F : S.platformAPIs.bi,
                                        biLoggerFactory: null !== (B = null == C ? void 0 : C.biLoggerFactory) && void 0 !== B ? B : null === (W = null == S ? void 0 : S.platformAPIs) || void 0 === W ? void 0 : W.biLoggerFactory,
                                        monitoring: null !== (G = null == C ? void 0 : C.monitoring) && void 0 !== G ? G : null === (H = null == S ? void 0 : S.platformAPIs) || void 0 === H ? void 0 : H.monitoring,
                                        appData: S.appParams,
                                        windowAPI: k,
                                        siteAPI: L,
                                        seoAPI: _,
                                        userAPI: T,
                                        translationsConfig: c,
                                        defaultTranslations: p,
                                        inEditor: u,
                                        biConfig: o,
                                        biLogger: s,
                                        appName: d,
                                        prepopulatedData: e,
                                        optionalDeps: n,
                                        localeDistPath: v,
                                        shouldUseEssentials: m
                                    })).init()];
                                case 2:
                                    return q.sent(), [4, (P = new Ae({
                                        translations: D.translations,
                                        viewerScriptFlowAPI: D,
                                        appDefinitionId: null === (V = S.appParams) || void 0 === V ? void 0 : V.appDefinitionId,
                                        translationsConfig: c,
                                        componentId: S.compId,
                                        componentName: g,
                                        widgetId: S.type,
                                        biLogger: s,
                                        fedopsConfig: a,
                                        controllerConfig: S,
                                        persistentAcrossPages: h,
                                        sentryConfig: r,
                                        prepopulatedData: e,
                                        shouldUseEssentials: m,
                                        multilingualDisabled: b,
                                        panoramaClient: O,
                                        windowAPI: k,
                                        siteAPI: L,
                                        seoAPI: _,
                                        locationAPI: A
                                    })).init()];
                                case 3:
                                    q.sent(), R = t({
                                        controllerConfig: S,
                                        flowAPI: P,
                                        appData: w,
                                        dangerousPublicDataOverride: He(P),
                                        dangerousStylesOverride: qe(P)
                                    }), M = null, q.label = 4;
                                case 4:
                                    return q.trys.push([4, 6, , 7]), [4, R];
                                case 5:
                                    return N = q.sent(), [3, 7];
                                case 6:
                                    return U = q.sent(), P.reportError(U), M = U, N = {}, [3, 7];
                                case 7:
                                    return [2, Be({
                                        controller: N,
                                        translations: P.translations,
                                        experiments: P.experiments,
                                        biLogger: P.bi,
                                        controllerConfig: S,
                                        flowAPI: P,
                                        experimentsConfig: i,
                                        translationsConfig: c,
                                        appName: d,
                                        componentName: g,
                                        withErrorBoundary: y,
                                        _controllerError: M,
                                        optionalDeps: n,
                                        panoramaClient: O
                                    })]
                            }
                            var K
                        }))
                    }))
                }
            }(kt, Mn, {
                initI18n: function(t) {
                    return function({
                        locale: t,
                        asyncMessagesLoader: e,
                        messages: n,
                        useSuspense: r = !1,
                        wait: o,
                        disableAutoInit: i = !1,
                        bindI18n: a
                    }, {
                        icu: s
                    } = {}) {
                        const l = {
                                lng: t,
                                fallbackLng: "en",
                                keySeparator: !1,
                                react: {
                                    useSuspense: r,
                                    bindI18n: a,
                                    wait: o
                                },
                                _polyfill: {
                                    isLoading: !1
                                }
                            },
                            u = Dn.createInstance(i ? l : void 0);
                        return s && u.use(s), e && u.use({
                            type: "backend",
                            read: async (t, n, r) => {
                                try {
                                    return r(null, await e(t))
                                } catch (t) {
                                    return r(t, null)
                                }
                            }
                        }), n && (l.resources = {
                            [t]: {
                                translation: n
                            }
                        }), i || u.init(l), u
                    }(t)
                },
                createHttpClient: null,
                createExperiments: null
            }),
            Un = null,
            jn = { ...Mn,
                id: Mn.componentId,
                widgetType: "WIDGET_OUT_OF_IFRAME",
                controllerFileName: "/home/builduser/work/18b508ac43996097/packages/ecom-platform-cart-icon/src/components/CartIcon/controller.ts"
            },
            Fn = Nn,
            Bn = Nn
    })(), r
})()));
//# sourceMappingURL=CartIconController.bundle.min.js.map
//# sourceURL=https://static.parastorage.com/services/ecom-platform-cart-icon/1.1786.0/CartIconController.bundle.min.js